{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';// Juego moderno: pareja camino a la iglesia, con narrativa cada 30s\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Game(){const containerRef=useRef(null);const canvasRef=useRef(null);// Estado principal\nconst[status,setStatus]=useState('menu');// menu | intro | playing | paused | win | gameover\nconst[muted,setMuted]=useState(false);// Configuraci√≥n de juego\nconst GAME_DURATION=300;// 5 min\nconst SCORE=useRef(0);const TIMELEFT=useRef(GAME_DURATION);const INTRO_SHOWN=useRef(false);// Intro estilo Star Wars\nconst INTRO=useRef({offset:320,speed:40,// m√°s lento para una intro m√°s larga\nlines:['En una galaxia muy, muy cercana...','Dos estrellas destinadas a unirse brillan con fuerza.','El gran d√≠a ha llegado y todos esperan en la iglesia.','Ayuda a la pareja a llegar a tiempo sorteando obst√°culos...','Controles: ‚Üë o ESPACIO para saltar, ‚Üì para agacharte o caer r√°pido.','Pulsa P para pausar. R para reiniciar.','¬°Que la fuerza del amor te acompa√±e!']});// Momentos clave (cada 30s)\nconst STORY_MOMENTS=useRef([{text:'Ana y Dani en la Facultad de Derecho de la USC üèõÔ∏è',timeStart:0},{text:'Ana preparando las oposiciones para Jueza ‚öñÔ∏è',timeStart:30},{text:'Dani cursando el M√°ster de Abogac√≠a üìñ',timeStart:60},{text:'Dani empezando a trabajar como abogado üíº',timeStart:90},{text:'Dani trabajando en Porri√±o üè¢',timeStart:120},{text:'Dani mud√°ndose a Carballi√±o üè†',timeStart:150},{text:'Ana trabajando en Ponteareas üèõÔ∏è',timeStart:180},{text:'Ana aprobando la oposici√≥n en Pontevedra üéâ',timeStart:210},{text:'Ana y Dani viviendo juntos en Pontevedra üíï',timeStart:240},{text:'La pedida en la Torre de H√©rcules üíç',timeStart:270},{text:'¬°Y hoy... la boda! üë∞üííü§µ',timeStart:300}]);// Narrativa actual con banner animado\nconst STORY=useRef({index:-1,bannerText:'',bannerAlpha:0,bannerTimer:0});const[currentStoryMoment,setCurrentStoryMoment]=useState(null);// Mundo y f√≠sica\nconst WORLD=useRef({speed:240,maxSpeed:420,gravity:1700,jumpV:620,fastFallBoost:2200,groundY:220,player:{x:100,y:0,w:70,h:48,vy:0,onGround:true,crouching:false},worldX:0,obstacles:[],startTs:0,lastTs:0,spawnTimer:0,spawnInterval:1.3,// Parallax\nparallax:{skyShift:0,cityShift:0,hillShift:0}});// Reset limpio\nconst resetWorld=worldRef=>{const w=worldRef===null||worldRef===void 0?void 0:worldRef.current;if(!w)return;SCORE.current=0;TIMELEFT.current=GAME_DURATION;STORY.current={index:-1,bannerText:'',bannerAlpha:0,bannerTimer:0};setCurrentStoryMoment(null);w.worldX=0;w.lastTs=0;w.startTs=0;w.speed=240;w.spawnInterval=1.3;w.spawnTimer=0.8;w.obstacles=[];w.parallax.skyShift=0;w.parallax.cityShift=0;w.parallax.hillShift=0;w.player={x:100,y:w.groundY-48,w:70,h:48,vy:0,onGround:true,crouching:false};};useEffect(()=>{resetWorld(WORLD);INTRO.current.offset=320;},[]);// Bucle de juego\nuseEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');let rafId;const loop=ts=>{const w=WORLD.current;if(!w.lastTs){w.lastTs=ts;if(!w.startTs&&status==='playing')w.startTs=ts;}const dt=Math.min(0.032,(ts-w.lastTs)/1000);w.lastTs=ts;update(dt,ts);render(ctx,canvas);rafId=requestAnimationFrame(loop);};rafId=requestAnimationFrame(loop);return()=>cancelAnimationFrame(rafId);},[status]);// Reiniciar intro al entrar\nuseEffect(()=>{if(status==='intro')INTRO.current.offset=320;},[status]);// Entradas\nuseEffect(()=>{const onKeyDown=e=>{if(e.repeat)return;if((e.code==='Space'||e.code==='ArrowUp')&&status==='playing')jump();if(e.code==='ArrowDown'&&status==='playing')crouch(true);if(e.code==='KeyR'&&(status==='playing'||status==='gameover'||status==='win'||status==='paused')){resetWorld(WORLD);setStatus('menu');}if(e.code==='KeyP'&&(status==='playing'||status==='paused'))togglePause();if(e.code==='Enter'&&status==='menu')handlePlayFullscreen();if(e.code==='Enter'&&status==='intro')startPlaying();};const onKeyUp=e=>{if(e.code==='ArrowDown')crouch(false);};window.addEventListener('keydown',onKeyDown);window.addEventListener('keyup',onKeyUp);return()=>{window.removeEventListener('keydown',onKeyDown);window.removeEventListener('keyup',onKeyUp);};},[status]);const togglePause=()=>{if(status==='playing')setStatus('paused');else if(status==='paused')setStatus('playing');};const jump=()=>{const p=WORLD.current.player;if(p.onGround){p.vy=-WORLD.current.jumpV;p.onGround=false;}};const crouch=on=>{const p=WORLD.current.player;if(on){if(!p.onGround)p.vy+=WORLD.current.fastFallBoost*0.04;// ca√≠da r√°pida\nelse if(!p.crouching){p.crouching=true;const prevBottom=p.y+p.h;p.h=32;// reducir un poco la altura\np.y=prevBottom-p.h;}}else if(p.crouching){const prevBottom=p.y+p.h;p.h=48;p.y=prevBottom-p.h;p.crouching=false;}};const handlePlayFullscreen=async()=>{try{var _containerRef$current;if((_containerRef$current=containerRef.current)!==null&&_containerRef$current!==void 0&&_containerRef$current.requestFullscreen)await containerRef.current.requestFullscreen();}catch{}resetWorld(WORLD);const audioEl=document.getElementById('bg-music');if(audioEl){audioEl.currentTime=0;audioEl.play();audioEl.muted=muted;}if(!INTRO_SHOWN.current){setStatus('intro');INTRO_SHOWN.current=true;}else{startPlaying();}};const startPlaying=()=>{const w=WORLD.current;w.lastTs=0;w.startTs=0;// Mostrar primer momento inmediatamente\nSTORY.current.index=0;STORY.current.bannerText=STORY_MOMENTS.current[0].text;STORY.current.bannerTimer=4.2;// mostrar 4.2s\nSTORY.current.bannerAlpha=0;// animar fade-in\nsetCurrentStoryMoment(STORY.current.bannerText);setStatus('playing');};const handleRetry=()=>{resetWorld(WORLD);setCurrentStoryMoment(null);startPlaying();};const update=(dt,ts)=>{const w=WORLD.current;if(status==='menu')return;if(status==='intro'){INTRO.current.offset-=INTRO.current.speed*dt;if(INTRO.current.offset<-140)startPlaying();return;}if(status==='paused')return;if(status!=='playing')return;// Tiempo de juego\nif(w.startTs===0)w.startTs=ts;const elapsed=(ts-w.startTs)/1000;const remaining=Math.max(0,GAME_DURATION-elapsed);TIMELEFT.current=remaining;// Narrativa basada en tiempo -> √≠ndice\nconst maxIndex=STORY_MOMENTS.current.length-1;const idx=Math.min(Math.floor(elapsed/30),maxIndex);if(idx!==STORY.current.index){STORY.current.index=idx;STORY.current.bannerText=STORY_MOMENTS.current[idx].text;STORY.current.bannerTimer=4.2;setCurrentStoryMoment(STORY.current.bannerText);}// Animaci√≥n del banner (fade in/out)\nif(STORY.current.bannerTimer>0){STORY.current.bannerTimer-=dt;STORY.current.bannerAlpha=Math.min(1,STORY.current.bannerAlpha+dt*3);}else{STORY.current.bannerAlpha=Math.max(0,STORY.current.bannerAlpha-dt*2);}if(remaining<=0.01){setStatus('win');return;}// Progresi√≥n de dificultad\nconst tFactor=Math.min(1,elapsed/GAME_DURATION);w.speed=240+(w.maxSpeed-240)*tFactor;w.spawnInterval=1.3-0.8*tFactor;// Parallax scrolling\nw.parallax.skyShift+=w.speed*0.08*dt;w.parallax.cityShift+=w.speed*0.25*dt;w.parallax.hillShift+=w.speed*0.45*dt;// Avance mundo\nw.worldX+=w.speed*dt;// F√≠sica jugador\nconst p=w.player;p.vy+=w.gravity*dt;p.y+=p.vy*dt;const groundY=w.groundY-p.h;if(p.y>=groundY){p.y=groundY;p.vy=0;p.onGround=true;}else{p.onGround=false;}// Spawn obst√°culos\nw.spawnTimer-=dt;if(w.spawnTimer<=0){spawnObstacle(w);w.spawnTimer=w.spawnInterval*(0.9+Math.random()*0.4);}// Colisiones + puntuaci√≥n\nfor(const o of w.obstacles){const sx=o.x-w.worldX+p.x;o.screenX=sx;if(!o.scored&&sx+o.w<p.x){o.scored=true;SCORE.current+=100;}const collide=rectOverlap(p.x,p.y,p.w,p.h,sx,o.y,o.w,o.h);if(collide){setStatus('gameover');break;}}// Limpiar\nw.obstacles=w.obstacles.filter(o=>o.screenX>-140);SCORE.current+=Math.floor(w.speed*dt*0.6);};const render=(ctx,canvas)=>{const w=WORLD.current;const p=w.player;// Fondo\nctx.clearRect(0,0,canvas.width,canvas.height);if(status==='intro'){drawIntroBackground(ctx,canvas);drawIntro(ctx,canvas,INTRO.current.lines,INTRO.current.offset);drawSkipHint(ctx,canvas,'Pulsa Enter para saltar');return;}drawSky(ctx,canvas,w.parallax.skyShift);drawCity(ctx,canvas,w.parallax.cityShift);drawHills(ctx,canvas,w.parallax.hillShift);// Marca de agua narrativa sutil\nconst momentText=currentStoryMoment||STORY_MOMENTS.current[0].text;drawStoryWatermark(ctx,canvas,momentText);// Suelo\nctx.fillStyle='#bfe3ff';ctx.fillRect(0,w.groundY+12,canvas.width,4);// Obst√°culos\nfor(const o of w.obstacles){if(o.screenX<-80||o.screenX>canvas.width+120)continue;if(o.type==='low')drawObstacleLow(ctx,o.screenX,o.y,o.w,o.h);else drawObstacleHigh(ctx,o.screenX,o.y,o.w,o.h);}// Pareja (sticker conjunto)\ndrawCouple(ctx,p.x,p.y,p.w,p.h,!p.onGround,p.crouching);// HUD\ndrawHUD(ctx,canvas,{score:SCORE.current,time:TIMELEFT.current,status});// Banner de momento especial (animado)\nif(STORY.current.bannerAlpha>0){drawStoryBanner(ctx,canvas,momentText,STORY.current.bannerAlpha);}if(status==='paused'){drawOverlay(ctx,canvas,'Pausa ‚è∏','Pulsa P para continuar');return;}if(status==='gameover'){drawOverlay(ctx,canvas,'¬°Ups! Te has tropezado','Pulsa R para volver al men√∫');}else if(status==='win'){drawOverlay(ctx,canvas,'¬°Llegaste a tiempo! üíí',`Puntuaci√≥n: ${Math.floor(SCORE.current)} ¬∑ Pulsa R para men√∫`);}};const toggleMute=()=>{const audioEl=document.getElementById('bg-music');if(audioEl){audioEl.muted=!audioEl.muted;setMuted(audioEl.muted);}else setMuted(m=>!m);};useEffect(()=>()=>{const audioEl=document.getElementById('bg-music');if(audioEl)audioEl.pause();},[]);return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,style:{maxWidth:980,margin:'0 auto',padding:'1rem',position:'relative'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:'.5rem'},children:\"Camino a la iglesia\"}),status==='menu'&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',inset:0,display:'flex',alignItems:'center',justifyContent:'center',background:'linear-gradient(135deg, rgba(255,255,255,.95), rgba(238,242,255,.95))',zIndex:5,borderRadius:12},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'min(92%, 620px)',padding:'1.25rem',borderRadius:12,boxShadow:'0 8px 28px rgba(0,0,0,.18)',background:'white'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,textAlign:'center'},children:\"\\xA1Acompa\\xF1a a Ana y Dani!\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'#64748b',marginTop:4},children:\"Esquiva obst\\xE1culos durante 5 minutos. La historia de la pareja aparecer\\xE1 como momentos especiales cada 30s.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',justifyContent:'center',marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePlayFullscreen,style:primaryBtn,children:\"\\u25B6 Jugar en pantalla completa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{resetWorld(WORLD);startPlaying();},style:secondaryBtn,children:\"\\u25B7 Jugar\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{borderRadius:12,overflow:'hidden',boxShadow:'0 6px 24px rgba(0,0,0,.12)',background:'white',position:'relative'},children:[/*#__PURE__*/_jsx(\"audio\",{id:\"bg-music\",src:\"/musica-boda.mp3\",loop:true,autoPlay:false,style:{display:'none'}}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleMute,\"aria-label\":muted?'Activar sonido':'Silenciar sonido',style:{position:'absolute',right:8,top:8,zIndex:8,background:'rgba(0,0,0,.55)',color:'#fff',border:0,borderRadius:999,width:36,height:36,cursor:'pointer'},children:muted?'üîá':'üîä'}),(status==='playing'||status==='paused')&&/*#__PURE__*/_jsx(\"button\",{onClick:togglePause,style:{position:'absolute',right:52,top:8,zIndex:8,background:'rgba(0,0,0,.55)',color:'#fff',border:0,borderRadius:999,width:36,height:36,cursor:'pointer'},children:status==='paused'?'‚ñ∂':'‚è∏'}),status==='intro'&&/*#__PURE__*/_jsx(\"button\",{onClick:startPlaying,style:{position:'absolute',right:8,bottom:8,zIndex:8,background:'rgba(0,0,0,.55)',color:'#fff',border:0,borderRadius:8,padding:'.4rem .6rem',cursor:'pointer'},children:\"Saltar intro\"}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:900,height:280,style:{width:'100%',display:'block',background:status==='intro'?'#000':'linear-gradient(#eef2ff, #fff)'}}),status==='playing'&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',inset:'auto 0 0 0',display:'flex',justifyContent:'space-between',padding:'8px 10px',pointerEvents:'none'},children:[/*#__PURE__*/_jsx(\"button\",{onMouseDown:jump,onTouchStart:jump,style:touchBtn,children:\"\\u2B9D Saltar\"}),/*#__PURE__*/_jsx(\"button\",{onMouseDown:()=>crouch(true),onMouseUp:()=>crouch(false),onTouchStart:()=>crouch(true),onTouchEnd:()=>crouch(false),style:touchBtn,children:\"\\u2B9F Agachar\"})]}),(status==='gameover'||status==='win')&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',inset:0,display:'flex',alignItems:'center',justifyContent:'center',zIndex:7},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(17,24,39,.88)',color:'#fff',padding:'1rem 1.25rem',borderRadius:12,boxShadow:'0 8px 28px rgba(0,0,0,.35)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,fontSize:18,marginBottom:8},children:status==='win'?'¬°Llegaste a tiempo! üíí':'¬°Ups! Te has tropezado'}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:14,opacity:.9,marginBottom:12},children:[\"Puntuaci\\xF3n: \",Math.floor(SCORE.current)]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,style:{background:'#22c55e',color:'#0b1a0f',border:0,padding:'.5rem 1rem',borderRadius:10,fontWeight:700,cursor:'pointer'},children:\"\\u21BB Reintentar\"})]})})]})]});}// Estilos de botones\nconst primaryBtn={background:'linear-gradient(135deg, #6366f1, #8b5cf6)',color:'white',border:0,padding:'.75rem 1.25rem',borderRadius:10,fontWeight:700,cursor:'pointer',boxShadow:'0 6px 18px rgba(99,102,241,.35)'};const secondaryBtn={background:'#111827',color:'white',border:0,padding:'.75rem 1.25rem',borderRadius:10,fontWeight:700,cursor:'pointer'};const touchBtn={pointerEvents:'auto',background:'rgba(0,0,0,.55)',color:'#fff',border:0,borderRadius:10,padding:'.5rem .75rem',fontWeight:700};// Utilidades\nfunction rectOverlap(ax,ay,aw,ah,bx,by,bw,bh){return ax<bx+bw&&ax+aw>bx&&ay<by+bh&&ay+ah>by;}function formatTime(t){const s=Math.max(0,Math.floor(t));const mm=String(Math.floor(s/60)).padStart(2,'0');const ss=String(s%60).padStart(2,'0');return`${mm}:${ss}`;}function spawnObstacle(w){const type=Math.random()<0.55?'low':'high';if(type==='low'){const width=28+Math.random()*18;const height=22+Math.random()*22;const x=w.worldX+900+Math.random()*120;const y=w.groundY-height;w.obstacles.push({type,x,y,w:width,h:height,scored:false,screenX:0});}else{const width=84+Math.random()*70;const height=18;const x=w.worldX+900+Math.random()*120;const y=w.groundY-(48+12);w.obstacles.push({type,x,y,w:width,h:height,scored:false,screenX:0});}}// Dibujo UI\nfunction drawHUD(ctx,canvas,_ref){let{score,time,status}=_ref;ctx.save();// Barra superior\nctx.globalAlpha=0.9;ctx.fillStyle='rgba(255,255,255,0.9)';roundRect(ctx,8,8,canvas.width-16,34,8);ctx.fill();// Puntuaci√≥n\nctx.fillStyle='#334155';ctx.font='bold 12px Inter, system-ui, -apple-system, Segoe UI, Roboto';ctx.textAlign='left';ctx.fillText(`Puntos: ${Math.floor(score)}`,16,30);// Tiempo restante + barra\nctx.textAlign='right';ctx.fillText(`Tiempo: ${formatTime(time)}`,canvas.width-16,30);const pct=Math.max(0,Math.min(1,time/300));const barW=(canvas.width-16)*pct;ctx.globalAlpha=1;ctx.fillStyle='#22c55e';roundRect(ctx,8,46,barW,6,3);ctx.fill();ctx.restore();}function drawIntroBackground(ctx,canvas){const g=ctx.createLinearGradient(0,0,0,canvas.height);g.addColorStop(0,'#000');g.addColorStop(1,'#1f2937');ctx.fillStyle=g;ctx.fillRect(0,0,canvas.width,canvas.height);}function drawIntro(ctx,canvas,lines,offset){ctx.save();ctx.fillStyle='#10b981';ctx.textAlign='center';ctx.font='bold 22px Inter, system-ui, -apple-system, Segoe UI, Roboto';const centerX=canvas.width/2;let y=canvas.height+offset;for(let i=0;i<lines.length;i++){const line=lines[i];const scale=1-i*0.05;ctx.save();ctx.translate(centerX,y);ctx.scale(scale,scale);ctx.fillText(line,0,0);ctx.restore();y+=36;}ctx.restore();}function drawSkipHint(ctx,canvas,text){ctx.save();ctx.fillStyle='rgba(255,255,255,0.2)';roundRect(ctx,canvas.width-165,canvas.height-36,156,26,8);ctx.fill();ctx.fillStyle='#e5e7eb';ctx.font='12px Inter, system-ui, -apple-system, Segoe UI, Roboto';ctx.textAlign='right';ctx.fillText(text,canvas.width-12,canvas.height-18);ctx.restore();}function drawSky(ctx,canvas,shift){const g=ctx.createLinearGradient(0,0,0,canvas.height);g.addColorStop(0,'#e8f0ff');g.addColorStop(1,'#ffffff');ctx.fillStyle=g;ctx.fillRect(0,0,canvas.width,canvas.height);// nubes suaves\nctx.save();ctx.globalAlpha=0.25;ctx.fillStyle='#ffffff';for(let i=0;i<6;i++){const x=(i*180-shift*0.3%(canvas.width+200)+canvas.width+200)%(canvas.width+200)-100;ctx.beginPath();ctx.ellipse(x,60+i%2*18,70,20,0,0,Math.PI*2);ctx.fill();}ctx.restore();}function drawCity(ctx,canvas,shift){ctx.save();ctx.fillStyle='#c7d2fe';const baseY=180;for(let i=0;i<14;i++){const w=40+i%3*10;const h=30+i%5*18;const x=(i*90-shift%(canvas.width+200)+canvas.width+200)%(canvas.width+200)-100;roundRect(ctx,x,baseY-h,w,h,4);ctx.fill();}ctx.restore();}function drawHills(ctx,canvas,shift){ctx.save();ctx.fillStyle='#93c5fd';for(let i=0;i<4;i++){const x=(i*260-shift%(canvas.width+300)+canvas.width+300)%(canvas.width+300)-150;ctx.beginPath();ctx.ellipse(x,220,180,36,0,0,Math.PI*2);ctx.fill();}ctx.restore();}function drawObstacleLow(ctx,x,y,w,h){ctx.save();ctx.fillStyle='#94a3b8';ctx.strokeStyle='#475569';ctx.lineWidth=2;roundRect(ctx,x,y,w,h,6);ctx.fill();ctx.stroke();ctx.restore();}function drawObstacleHigh(ctx,x,y,w,h){ctx.save();ctx.fillStyle='#9ca3af';roundRect(ctx,x,y+h-30,4,30,2);roundRect(ctx,x+w-4,y+h-30,4,30,2);ctx.fill();ctx.fillStyle='#22c55e';roundRect(ctx,x,y,w,h,6);ctx.fill();ctx.restore();}// Sticker conjunto: novio + novia cogidos de la mano\nfunction drawCouple(ctx,x,y,w,h,jumping,crouching){ctx.save();// Sombra\nif(jumping){ctx.globalAlpha=0.2;ctx.fillStyle='#000';ctx.beginPath();ctx.ellipse(x+w*0.5,y+h+10,w*0.7,5,0,0,Math.PI*2);ctx.fill();ctx.globalAlpha=1;}// Novia (izquierda)\nconst nx=x-16;const ny=y;const nw=Math.floor(w*0.48);const nh=h;ctx.fillStyle='#f8fafc';roundRect(ctx,nx-2,ny+nh*0.35,nw+4,nh*0.65,10);// vestido\nctx.fill();ctx.fillStyle='#e5e7eb';roundRect(ctx,nx,ny,nw,nh*0.45,8);// torso\nctx.fill();ctx.fillStyle='#fde68a';ctx.beginPath();ctx.arc(nx+nw/2,crouching?ny-4:ny-6,10,0,Math.PI*2);// cabeza\nctx.fill();// velo\nctx.globalAlpha=0.6;ctx.fillStyle='#e0f2fe';roundRect(ctx,nx-6,ny-6,nw+12,16,8);ctx.fill();ctx.globalAlpha=1;// Novio (derecha)\nconst gx=x+nw-4;const gy=y;const gw=Math.floor(w*0.52);const gh=h;ctx.fillStyle='#1f2937';roundRect(ctx,gx,gy,gw,gh,8);ctx.fill();// traje\nctx.fillStyle='#fde68a';ctx.beginPath();ctx.arc(gx+gw/2,crouching?gy-4:gy-6,10,0,Math.PI*2);ctx.fill();// cabeza\nctx.fillStyle='#ef4444';ctx.fillRect(gx+gw/2-3,gy+10,6,10);// corbata\n// Manos unidas (coraz√≥n peque√±o)\nctx.fillStyle='#ef4444';ctx.beginPath();const mx=gx-4;const my=y+h*0.48;ctx.arc(mx-3,my,3,0,Math.PI*2);ctx.arc(mx+3,my,3,0,Math.PI*2);ctx.moveTo(mx-6,my);ctx.lineTo(mx,my+6);ctx.lineTo(mx+6,my);ctx.fill();ctx.restore();}function drawStoryWatermark(ctx,canvas,momentText){ctx.save();ctx.globalAlpha=0.12;const gradient=ctx.createRadialGradient(canvas.width/2,canvas.height/2,0,canvas.width/2,canvas.height/2,canvas.width*0.9);gradient.addColorStop(0,'#fbbf24');gradient.addColorStop(0.5,'#f59e0b');gradient.addColorStop(1,'transparent');ctx.fillStyle=gradient;ctx.fillRect(0,0,canvas.width,canvas.height);// Texto grande sutil\nctx.globalAlpha=0.22;ctx.fillStyle='#92400e';ctx.font='bold 34px Inter, system-ui, -apple-system, Segoe UI, Roboto';ctx.textAlign='center';ctx.textBaseline='middle';const words=momentText.split(' ');let lines=[];let currentLine='';for(const word of words){const test=currentLine+(currentLine?' ':'')+word;if(ctx.measureText(test).width>canvas.width*0.7&&currentLine){lines.push(currentLine);currentLine=word;}else currentLine=test;}if(currentLine)lines.push(currentLine);const lineHeight=40;const startY=canvas.height/2-(lines.length-1)*lineHeight/2;for(let i=0;i<lines.length;i++)ctx.fillText(lines[i],canvas.width/2,startY+i*lineHeight);ctx.restore();}function drawStoryBanner(ctx,canvas,text,alpha){ctx.save();ctx.globalAlpha=Math.max(0,Math.min(1,alpha));ctx.fillStyle='rgba(251, 191, 36, 0.95)';const padding=12;ctx.font='bold 14px Inter, system-ui, -apple-system, Segoe UI, Roboto';const textW=ctx.measureText(text).width;const boxW=Math.min(canvas.width-24,textW+padding*2+40);const boxH=42;const boxX=(canvas.width-boxW)/2;const boxY=6;// elevado\nroundRect(ctx,boxX,boxY,boxW,boxH,10);ctx.fill();ctx.strokeStyle='#d97706';ctx.lineWidth=2;ctx.stroke();ctx.fillStyle='#92400e';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText('üíï '+text+' üíï',canvas.width/2,boxY+boxH/2);ctx.restore();}function drawOverlay(ctx,canvas,title,subtitle){ctx.save();ctx.fillStyle='rgba(0,0,0,0.45)';ctx.fillRect(0,0,canvas.width,canvas.height);ctx.fillStyle='#fff';ctx.font='bold 22px Inter, system-ui, -apple-system, Segoe UI, Roboto';ctx.textAlign='center';ctx.fillText(title,canvas.width/2,canvas.height/2-6);ctx.font='14px Inter, system-ui, -apple-system, Segoe UI, Roboto';ctx.fillText(subtitle,canvas.width/2,canvas.height/2+18);ctx.restore();}function roundRect(ctx,x,y,w,h,r){ctx.beginPath();ctx.moveTo(x+r,y);ctx.arcTo(x+w,y,x+w,y+h,r);ctx.arcTo(x+w,y+h,x,y+h,r);ctx.arcTo(x,y+h,x,y,r);ctx.arcTo(x,y,x+w,y,r);ctx.closePath();}","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","Game","containerRef","canvasRef","status","setStatus","muted","setMuted","GAME_DURATION","SCORE","TIMELEFT","INTRO_SHOWN","INTRO","offset","speed","lines","STORY_MOMENTS","text","timeStart","STORY","index","bannerText","bannerAlpha","bannerTimer","currentStoryMoment","setCurrentStoryMoment","WORLD","maxSpeed","gravity","jumpV","fastFallBoost","groundY","player","x","y","w","h","vy","onGround","crouching","worldX","obstacles","startTs","lastTs","spawnTimer","spawnInterval","parallax","skyShift","cityShift","hillShift","resetWorld","worldRef","current","canvas","ctx","getContext","rafId","loop","ts","dt","Math","min","update","render","requestAnimationFrame","cancelAnimationFrame","onKeyDown","e","repeat","code","jump","crouch","togglePause","handlePlayFullscreen","startPlaying","onKeyUp","window","addEventListener","removeEventListener","p","on","prevBottom","_containerRef$current","requestFullscreen","audioEl","document","getElementById","currentTime","play","handleRetry","elapsed","remaining","max","maxIndex","length","idx","floor","tFactor","spawnObstacle","random","o","sx","screenX","scored","collide","rectOverlap","filter","clearRect","width","height","drawIntroBackground","drawIntro","drawSkipHint","drawSky","drawCity","drawHills","momentText","drawStoryWatermark","fillStyle","fillRect","type","drawObstacleLow","drawObstacleHigh","drawCouple","drawHUD","score","time","drawStoryBanner","drawOverlay","toggleMute","m","pause","ref","style","maxWidth","margin","padding","position","children","textAlign","marginBottom","inset","display","alignItems","justifyContent","background","zIndex","borderRadius","boxShadow","marginTop","color","gap","onClick","primaryBtn","secondaryBtn","overflow","id","src","autoPlay","right","top","border","cursor","bottom","pointerEvents","onMouseDown","onTouchStart","touchBtn","onMouseUp","onTouchEnd","fontWeight","fontSize","opacity","ax","ay","aw","ah","bx","by","bw","bh","formatTime","t","s","mm","String","padStart","ss","push","_ref","save","globalAlpha","roundRect","fill","font","fillText","pct","barW","restore","g","createLinearGradient","addColorStop","centerX","i","line","scale","translate","shift","beginPath","ellipse","PI","baseY","strokeStyle","lineWidth","stroke","jumping","nx","ny","nw","nh","arc","gx","gy","gw","gh","mx","my","moveTo","lineTo","gradient","createRadialGradient","textBaseline","words","split","currentLine","word","test","measureText","lineHeight","startY","alpha","textW","boxW","boxH","boxX","boxY","title","subtitle","r","arcTo","closePath"],"sources":["C:/Users/DanielGarc√≠aCarabelo/Downloads/pag web boda 2.0/html/webreact/src/components/Game.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\n// Juego moderno: pareja camino a la iglesia, con narrativa cada 30s\r\nexport default function Game() {\r\n  const containerRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n\r\n  // Estado principal\r\n  const [status, setStatus] = useState('menu'); // menu | intro | playing | paused | win | gameover\r\n  const [muted, setMuted] = useState(false);\r\n\r\n  // Configuraci√≥n de juego\r\n  const GAME_DURATION = 300; // 5 min\r\n  const SCORE = useRef(0);\r\n  const TIMELEFT = useRef(GAME_DURATION);\r\n  const INTRO_SHOWN = useRef(false);\r\n\r\n  // Intro estilo Star Wars\r\n  const INTRO = useRef({\r\n    offset: 320,\r\n    speed: 40, // m√°s lento para una intro m√°s larga\r\n    lines: [\r\n      'En una galaxia muy, muy cercana...',\r\n      'Dos estrellas destinadas a unirse brillan con fuerza.',\r\n      'El gran d√≠a ha llegado y todos esperan en la iglesia.',\r\n      'Ayuda a la pareja a llegar a tiempo sorteando obst√°culos...',\r\n      'Controles: ‚Üë o ESPACIO para saltar, ‚Üì para agacharte o caer r√°pido.',\r\n      'Pulsa P para pausar. R para reiniciar.',\r\n      '¬°Que la fuerza del amor te acompa√±e!'\r\n    ]\r\n  });\r\n\r\n  // Momentos clave (cada 30s)\r\n  const STORY_MOMENTS = useRef([\r\n    { text: 'Ana y Dani en la Facultad de Derecho de la USC üèõÔ∏è', timeStart: 0 },\r\n    { text: 'Ana preparando las oposiciones para Jueza ‚öñÔ∏è', timeStart: 30 },\r\n    { text: 'Dani cursando el M√°ster de Abogac√≠a üìñ', timeStart: 60 },\r\n    { text: 'Dani empezando a trabajar como abogado üíº', timeStart: 90 },\r\n    { text: 'Dani trabajando en Porri√±o üè¢', timeStart: 120 },\r\n    { text: 'Dani mud√°ndose a Carballi√±o üè†', timeStart: 150 },\r\n    { text: 'Ana trabajando en Ponteareas üèõÔ∏è', timeStart: 180 },\r\n    { text: 'Ana aprobando la oposici√≥n en Pontevedra üéâ', timeStart: 210 },\r\n    { text: 'Ana y Dani viviendo juntos en Pontevedra üíï', timeStart: 240 },\r\n    { text: 'La pedida en la Torre de H√©rcules üíç', timeStart: 270 },\r\n    { text: '¬°Y hoy... la boda! üë∞üííü§µ', timeStart: 300 }\r\n  ]);\r\n\r\n  // Narrativa actual con banner animado\r\n  const STORY = useRef({ index: -1, bannerText: '', bannerAlpha: 0, bannerTimer: 0 });\r\n  const [currentStoryMoment, setCurrentStoryMoment] = useState(null);\r\n\r\n  // Mundo y f√≠sica\r\n  const WORLD = useRef({\r\n    speed: 240,\r\n    maxSpeed: 420,\r\n    gravity: 1700,\r\n    jumpV: 620,\r\n    fastFallBoost: 2200,\r\n    groundY: 220,\r\n    player: { x: 100, y: 0, w: 70, h: 48, vy: 0, onGround: true, crouching: false },\r\n    worldX: 0,\r\n    obstacles: [],\r\n    startTs: 0,\r\n    lastTs: 0,\r\n    spawnTimer: 0,\r\n    spawnInterval: 1.3,\r\n    // Parallax\r\n    parallax: {\r\n      skyShift: 0,\r\n      cityShift: 0,\r\n      hillShift: 0\r\n    }\r\n  });\r\n\r\n  // Reset limpio\r\n  const resetWorld = (worldRef) => {\r\n    const w = worldRef?.current;\r\n    if (!w) return;\r\n\r\n    SCORE.current = 0;\r\n    TIMELEFT.current = GAME_DURATION;\r\n    STORY.current = { index: -1, bannerText: '', bannerAlpha: 0, bannerTimer: 0 };\r\n    setCurrentStoryMoment(null);\r\n\r\n    w.worldX = 0;\r\n    w.lastTs = 0;\r\n    w.startTs = 0;\r\n    w.speed = 240;\r\n    w.spawnInterval = 1.3;\r\n    w.spawnTimer = 0.8;\r\n    w.obstacles = [];\r\n    w.parallax.skyShift = 0;\r\n    w.parallax.cityShift = 0;\r\n    w.parallax.hillShift = 0;\r\n    w.player = { x: 100, y: w.groundY - 48, w: 70, h: 48, vy: 0, onGround: true, crouching: false };\r\n  };\r\n\r\n  useEffect(() => {\r\n    resetWorld(WORLD);\r\n    INTRO.current.offset = 320;\r\n  }, []);\r\n\r\n  // Bucle de juego\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    let rafId;\r\n    const loop = (ts) => {\r\n      const w = WORLD.current;\r\n      if (!w.lastTs) {\r\n        w.lastTs = ts;\r\n        if (!w.startTs && status === 'playing') w.startTs = ts;\r\n      }\r\n      const dt = Math.min(0.032, (ts - w.lastTs) / 1000);\r\n      w.lastTs = ts;\r\n\r\n      update(dt, ts);\r\n      render(ctx, canvas);\r\n      rafId = requestAnimationFrame(loop);\r\n    };\r\n\r\n    rafId = requestAnimationFrame(loop);\r\n    return () => cancelAnimationFrame(rafId);\r\n  }, [status]);\r\n\r\n  // Reiniciar intro al entrar\r\n  useEffect(() => {\r\n    if (status === 'intro') INTRO.current.offset = 320;\r\n  }, [status]);\r\n\r\n  // Entradas\r\n  useEffect(() => {\r\n    const onKeyDown = (e) => {\r\n      if (e.repeat) return;\r\n      if ((e.code === 'Space' || e.code === 'ArrowUp') && status === 'playing') jump();\r\n      if (e.code === 'ArrowDown' && status === 'playing') crouch(true);\r\n      if (e.code === 'KeyR' && (status === 'playing' || status === 'gameover' || status === 'win' || status === 'paused')) {\r\n        resetWorld(WORLD);\r\n        setStatus('menu');\r\n      }\r\n      if (e.code === 'KeyP' && (status === 'playing' || status === 'paused')) togglePause();\r\n      if (e.code === 'Enter' && status === 'menu') handlePlayFullscreen();\r\n      if (e.code === 'Enter' && status === 'intro') startPlaying();\r\n    };\r\n    const onKeyUp = (e) => {\r\n      if (e.code === 'ArrowDown') crouch(false);\r\n    };\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n    window.addEventListener('keyup', onKeyUp);\r\n    return () => {\r\n      window.removeEventListener('keydown', onKeyDown);\r\n      window.removeEventListener('keyup', onKeyUp);\r\n    };\r\n  }, [status]);\r\n\r\n  const togglePause = () => {\r\n    if (status === 'playing') setStatus('paused');\r\n    else if (status === 'paused') setStatus('playing');\r\n  };\r\n\r\n  const jump = () => {\r\n    const p = WORLD.current.player;\r\n    if (p.onGround) {\r\n      p.vy = -WORLD.current.jumpV;\r\n      p.onGround = false;\r\n    }\r\n  };\r\n\r\n  const crouch = (on) => {\r\n    const p = WORLD.current.player;\r\n    if (on) {\r\n      if (!p.onGround) p.vy += WORLD.current.fastFallBoost * 0.04; // ca√≠da r√°pida\r\n      else if (!p.crouching) {\r\n        p.crouching = true;\r\n        const prevBottom = p.y + p.h;\r\n        p.h = 32; // reducir un poco la altura\r\n        p.y = prevBottom - p.h;\r\n      }\r\n    } else if (p.crouching) {\r\n      const prevBottom = p.y + p.h;\r\n      p.h = 48;\r\n      p.y = prevBottom - p.h;\r\n      p.crouching = false;\r\n    }\r\n  };\r\n\r\n  const handlePlayFullscreen = async () => {\r\n    try { if (containerRef.current?.requestFullscreen) await containerRef.current.requestFullscreen(); } catch {}\r\n    resetWorld(WORLD);\r\n\r\n    const audioEl = document.getElementById('bg-music');\r\n    if (audioEl) { audioEl.currentTime = 0; audioEl.play(); audioEl.muted = muted; }\r\n\r\n    if (!INTRO_SHOWN.current) { setStatus('intro'); INTRO_SHOWN.current = true; }\r\n    else { startPlaying(); }\r\n  };\r\n\r\n  const startPlaying = () => {\r\n    const w = WORLD.current;\r\n    w.lastTs = 0;\r\n    w.startTs = 0;\r\n    // Mostrar primer momento inmediatamente\r\n    STORY.current.index = 0;\r\n    STORY.current.bannerText = STORY_MOMENTS.current[0].text;\r\n    STORY.current.bannerTimer = 4.2; // mostrar 4.2s\r\n    STORY.current.bannerAlpha = 0; // animar fade-in\r\n    setCurrentStoryMoment(STORY.current.bannerText);\r\n    setStatus('playing');\r\n  };\r\n\r\n  const handleRetry = () => {\r\n    resetWorld(WORLD);\r\n    setCurrentStoryMoment(null);\r\n    startPlaying();\r\n  };\r\n\r\n  const update = (dt, ts) => {\r\n    const w = WORLD.current;\r\n\r\n    if (status === 'menu') return;\r\n\r\n    if (status === 'intro') {\r\n      INTRO.current.offset -= INTRO.current.speed * dt;\r\n      if (INTRO.current.offset < -140) startPlaying();\r\n      return;\r\n    }\r\n\r\n    if (status === 'paused') return;\r\n    if (status !== 'playing') return;\r\n\r\n    // Tiempo de juego\r\n    if (w.startTs === 0) w.startTs = ts;\r\n    const elapsed = (ts - w.startTs) / 1000;\r\n    const remaining = Math.max(0, GAME_DURATION - elapsed);\r\n    TIMELEFT.current = remaining;\r\n\r\n    // Narrativa basada en tiempo -> √≠ndice\r\n    const maxIndex = STORY_MOMENTS.current.length - 1;\r\n    const idx = Math.min(Math.floor(elapsed / 30), maxIndex);\r\n    if (idx !== STORY.current.index) {\r\n      STORY.current.index = idx;\r\n      STORY.current.bannerText = STORY_MOMENTS.current[idx].text;\r\n      STORY.current.bannerTimer = 4.2;\r\n      setCurrentStoryMoment(STORY.current.bannerText);\r\n    }\r\n\r\n    // Animaci√≥n del banner (fade in/out)\r\n    if (STORY.current.bannerTimer > 0) {\r\n      STORY.current.bannerTimer -= dt;\r\n      STORY.current.bannerAlpha = Math.min(1, STORY.current.bannerAlpha + dt * 3);\r\n    } else {\r\n      STORY.current.bannerAlpha = Math.max(0, STORY.current.bannerAlpha - dt * 2);\r\n    }\r\n\r\n    if (remaining <= 0.01) { setStatus('win'); return; }\r\n\r\n    // Progresi√≥n de dificultad\r\n    const tFactor = Math.min(1, elapsed / GAME_DURATION);\r\n    w.speed = 240 + (w.maxSpeed - 240) * tFactor;\r\n    w.spawnInterval = 1.3 - 0.8 * tFactor;\r\n\r\n    // Parallax scrolling\r\n    w.parallax.skyShift += w.speed * 0.08 * dt;\r\n    w.parallax.cityShift += w.speed * 0.25 * dt;\r\n    w.parallax.hillShift += w.speed * 0.45 * dt;\r\n\r\n    // Avance mundo\r\n    w.worldX += w.speed * dt;\r\n\r\n    // F√≠sica jugador\r\n    const p = w.player;\r\n    p.vy += w.gravity * dt;\r\n    p.y += p.vy * dt;\r\n    const groundY = w.groundY - p.h;\r\n    if (p.y >= groundY) { p.y = groundY; p.vy = 0; p.onGround = true; } else { p.onGround = false; }\r\n\r\n    // Spawn obst√°culos\r\n    w.spawnTimer -= dt;\r\n    if (w.spawnTimer <= 0) {\r\n      spawnObstacle(w);\r\n      w.spawnTimer = w.spawnInterval * (0.9 + Math.random() * 0.4);\r\n    }\r\n\r\n    // Colisiones + puntuaci√≥n\r\n    for (const o of w.obstacles) {\r\n      const sx = o.x - w.worldX + p.x;\r\n      o.screenX = sx;\r\n      if (!o.scored && sx + o.w < p.x) { o.scored = true; SCORE.current += 100; }\r\n      const collide = rectOverlap(p.x, p.y, p.w, p.h, sx, o.y, o.w, o.h);\r\n      if (collide) { setStatus('gameover'); break; }\r\n    }\r\n\r\n    // Limpiar\r\n    w.obstacles = w.obstacles.filter((o) => o.screenX > -140);\r\n    SCORE.current += Math.floor(w.speed * dt * 0.6);\r\n  };\r\n\r\n  const render = (ctx, canvas) => {\r\n    const w = WORLD.current;\r\n    const p = w.player;\r\n\r\n    // Fondo\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    if (status === 'intro') {\r\n      drawIntroBackground(ctx, canvas);\r\n      drawIntro(ctx, canvas, INTRO.current.lines, INTRO.current.offset);\r\n      drawSkipHint(ctx, canvas, 'Pulsa Enter para saltar');\r\n      return;\r\n    }\r\n\r\n    drawSky(ctx, canvas, w.parallax.skyShift);\r\n    drawCity(ctx, canvas, w.parallax.cityShift);\r\n    drawHills(ctx, canvas, w.parallax.hillShift);\r\n\r\n    // Marca de agua narrativa sutil\r\n    const momentText = currentStoryMoment || STORY_MOMENTS.current[0].text;\r\n    drawStoryWatermark(ctx, canvas, momentText);\r\n\r\n    // Suelo\r\n    ctx.fillStyle = '#bfe3ff';\r\n    ctx.fillRect(0, w.groundY + 12, canvas.width, 4);\r\n\r\n    // Obst√°culos\r\n    for (const o of w.obstacles) {\r\n      if (o.screenX < -80 || o.screenX > canvas.width + 120) continue;\r\n      if (o.type === 'low') drawObstacleLow(ctx, o.screenX, o.y, o.w, o.h);\r\n      else drawObstacleHigh(ctx, o.screenX, o.y, o.w, o.h);\r\n    }\r\n\r\n    // Pareja (sticker conjunto)\r\n    drawCouple(ctx, p.x, p.y, p.w, p.h, !p.onGround, p.crouching);\r\n\r\n    // HUD\r\n    drawHUD(ctx, canvas, {\r\n      score: SCORE.current,\r\n      time: TIMELEFT.current,\r\n      status\r\n    });\r\n\r\n    // Banner de momento especial (animado)\r\n    if (STORY.current.bannerAlpha > 0) {\r\n      drawStoryBanner(ctx, canvas, momentText, STORY.current.bannerAlpha);\r\n    }\r\n\r\n    if (status === 'paused') {\r\n      drawOverlay(ctx, canvas, 'Pausa ‚è∏', 'Pulsa P para continuar');\r\n      return;\r\n    }\r\n\r\n    if (status === 'gameover') {\r\n      drawOverlay(ctx, canvas, '¬°Ups! Te has tropezado', 'Pulsa R para volver al men√∫');\r\n    } else if (status === 'win') {\r\n      drawOverlay(ctx, canvas, '¬°Llegaste a tiempo! üíí', `Puntuaci√≥n: ${Math.floor(SCORE.current)} ¬∑ Pulsa R para men√∫`);\r\n    }\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    const audioEl = document.getElementById('bg-music');\r\n    if (audioEl) { audioEl.muted = !audioEl.muted; setMuted(audioEl.muted); }\r\n    else setMuted((m) => !m);\r\n  };\r\n\r\n  useEffect(() => () => {\r\n    const audioEl = document.getElementById('bg-music');\r\n    if (audioEl) audioEl.pause();\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={containerRef} style={{ maxWidth: 980, margin: '0 auto', padding: '1rem', position: 'relative' }}>\r\n      <h2 style={{ textAlign: 'center', marginBottom: '.5rem' }}>Camino a la iglesia</h2>\r\n\r\n      {status === 'menu' && (\r\n        <div style={{ position: 'absolute', inset: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', background: 'linear-gradient(135deg, rgba(255,255,255,.95), rgba(238,242,255,.95))', zIndex: 5, borderRadius: 12 }}>\r\n          <div style={{ width: 'min(92%, 620px)', padding: '1.25rem', borderRadius: 12, boxShadow: '0 8px 28px rgba(0,0,0,.18)', background: 'white' }}>\r\n            <h3 style={{ marginTop: 0, textAlign: 'center' }}>¬°Acompa√±a a Ana y Dani!</h3>\r\n            <p style={{ textAlign: 'center', color: '#64748b', marginTop: 4 }}>\r\n              Esquiva obst√°culos durante 5 minutos. La historia de la pareja aparecer√° como momentos especiales cada 30s.\r\n            </p>\r\n            <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center', marginTop: '1rem' }}>\r\n              <button onClick={handlePlayFullscreen} style={primaryBtn}>‚ñ∂ Jugar en pantalla completa</button>\r\n              <button onClick={() => { resetWorld(WORLD); startPlaying(); }} style={secondaryBtn}>‚ñ∑ Jugar</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ borderRadius: 12, overflow: 'hidden', boxShadow: '0 6px 24px rgba(0,0,0,.12)', background: 'white', position: 'relative' }}>\r\n        <audio id=\"bg-music\" src=\"/musica-boda.mp3\" loop autoPlay={false} style={{ display: 'none' }} />\r\n        <button onClick={toggleMute} aria-label={muted ? 'Activar sonido' : 'Silenciar sonido'} style={{ position: 'absolute', right: 8, top: 8, zIndex: 8, background: 'rgba(0,0,0,.55)', color: '#fff', border: 0, borderRadius: 999, width: 36, height: 36, cursor: 'pointer' }}>{muted ? 'üîá' : 'üîä'}</button>\r\n        {(status === 'playing' || status === 'paused') && (\r\n          <button onClick={togglePause} style={{ position: 'absolute', right: 52, top: 8, zIndex: 8, background: 'rgba(0,0,0,.55)', color: '#fff', border: 0, borderRadius: 999, width: 36, height: 36, cursor: 'pointer' }}>{status === 'paused' ? '‚ñ∂' : '‚è∏'}</button>\r\n        )}\r\n        {status === 'intro' && (\r\n          <button onClick={startPlaying} style={{ position: 'absolute', right: 8, bottom: 8, zIndex: 8, background: 'rgba(0,0,0,.55)', color: '#fff', border: 0, borderRadius: 8, padding: '.4rem .6rem', cursor: 'pointer' }}>Saltar intro</button>\r\n        )}\r\n        <canvas ref={canvasRef} width={900} height={280} style={{ width: '100%', display: 'block', background: status === 'intro' ? '#000' : 'linear-gradient(#eef2ff, #fff)' }} />\r\n\r\n        {/* Controles t√°ctiles */}\r\n        {status === 'playing' && (\r\n          <div style={{ position: 'absolute', inset: 'auto 0 0 0', display: 'flex', justifyContent: 'space-between', padding: '8px 10px', pointerEvents: 'none' }}>\r\n            <button onMouseDown={jump} onTouchStart={jump} style={touchBtn}>‚Æù Saltar</button>\r\n            <button onMouseDown={() => crouch(true)} onMouseUp={() => crouch(false)} onTouchStart={() => crouch(true)} onTouchEnd={() => crouch(false)} style={touchBtn}>‚Æü Agachar</button>\r\n          </div>\r\n        )}\r\n\r\n        {(status === 'gameover' || status === 'win') && (\r\n          <div style={{ position: 'absolute', inset: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 7 }}>\r\n            <div style={{ background: 'rgba(17,24,39,.88)', color: '#fff', padding: '1rem 1.25rem', borderRadius: 12, boxShadow: '0 8px 28px rgba(0,0,0,.35)', textAlign: 'center' }}>\r\n              <div style={{ fontWeight: 700, fontSize: 18, marginBottom: 8 }}>\r\n                {status === 'win' ? '¬°Llegaste a tiempo! üíí' : '¬°Ups! Te has tropezado'}\r\n              </div>\r\n              <div style={{ fontSize: 14, opacity: .9, marginBottom: 12 }}>\r\n                Puntuaci√≥n: {Math.floor(SCORE.current)}\r\n              </div>\r\n              <button onClick={handleRetry} style={{ background: '#22c55e', color: '#0b1a0f', border: 0, padding: '.5rem 1rem', borderRadius: 10, fontWeight: 700, cursor: 'pointer' }}>‚Üª Reintentar</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Estilos de botones\r\nconst primaryBtn = {\r\n  background: 'linear-gradient(135deg, #6366f1, #8b5cf6)',\r\n  color: 'white', border: 0, padding: '.75rem 1.25rem',\r\n  borderRadius: 10, fontWeight: 700, cursor: 'pointer',\r\n  boxShadow: '0 6px 18px rgba(99,102,241,.35)'\r\n};\r\nconst secondaryBtn = {\r\n  background: '#111827', color: 'white', border: 0,\r\n  padding: '.75rem 1.25rem', borderRadius: 10,\r\n  fontWeight: 700, cursor: 'pointer'\r\n};\r\nconst touchBtn = {\r\n  pointerEvents: 'auto',\r\n  background: 'rgba(0,0,0,.55)', color: '#fff', border: 0,\r\n  borderRadius: 10, padding: '.5rem .75rem', fontWeight: 700\r\n};\r\n\r\n// Utilidades\r\nfunction rectOverlap(ax, ay, aw, ah, bx, by, bw, bh) {\r\n  return ax < bx + bw && ax + aw > bx && ay < by + bh && ay + ah > by;\r\n}\r\nfunction formatTime(t) {\r\n  const s = Math.max(0, Math.floor(t));\r\n  const mm = String(Math.floor(s / 60)).padStart(2, '0');\r\n  const ss = String(s % 60).padStart(2, '0');\r\n  return `${mm}:${ss}`;\r\n}\r\n\r\nfunction spawnObstacle(w) {\r\n  const type = Math.random() < 0.55 ? 'low' : 'high';\r\n  if (type === 'low') {\r\n    const width = 28 + Math.random() * 18;\r\n    const height = 22 + Math.random() * 22;\r\n    const x = w.worldX + 900 + Math.random() * 120;\r\n    const y = w.groundY - height;\r\n    w.obstacles.push({ type, x, y, w: width, h: height, scored: false, screenX: 0 });\r\n  } else {\r\n    const width = 84 + Math.random() * 70;\r\n    const height = 18;\r\n    const x = w.worldX + 900 + Math.random() * 120;\r\n    const y = w.groundY - (48 + 12);\r\n    w.obstacles.push({ type, x, y, w: width, h: height, scored: false, screenX: 0 });\r\n  }\r\n}\r\n\r\n// Dibujo UI\r\nfunction drawHUD(ctx, canvas, { score, time, status }) {\r\n  ctx.save();\r\n  // Barra superior\r\n  ctx.globalAlpha = 0.9;\r\n  ctx.fillStyle = 'rgba(255,255,255,0.9)';\r\n  roundRect(ctx, 8, 8, canvas.width - 16, 34, 8);\r\n  ctx.fill();\r\n\r\n  // Puntuaci√≥n\r\n  ctx.fillStyle = '#334155';\r\n  ctx.font = 'bold 12px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  ctx.textAlign = 'left';\r\n  ctx.fillText(`Puntos: ${Math.floor(score)}`, 16, 30);\r\n\r\n  // Tiempo restante + barra\r\n  ctx.textAlign = 'right';\r\n  ctx.fillText(`Tiempo: ${formatTime(time)}`, canvas.width - 16, 30);\r\n  const pct = Math.max(0, Math.min(1, time / 300));\r\n  const barW = (canvas.width - 16) * pct;\r\n  ctx.globalAlpha = 1;\r\n  ctx.fillStyle = '#22c55e';\r\n  roundRect(ctx, 8, 46, barW, 6, 3);\r\n  ctx.fill();\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawIntroBackground(ctx, canvas) {\r\n  const g = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n  g.addColorStop(0, '#000');\r\n  g.addColorStop(1, '#1f2937');\r\n  ctx.fillStyle = g;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n}\r\n\r\nfunction drawIntro(ctx, canvas, lines, offset) {\r\n  ctx.save();\r\n  ctx.fillStyle = '#10b981';\r\n  ctx.textAlign = 'center';\r\n  ctx.font = 'bold 22px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  const centerX = canvas.width / 2;\r\n  let y = canvas.height + offset;\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i];\r\n    const scale = 1 - i * 0.05;\r\n    ctx.save();\r\n    ctx.translate(centerX, y);\r\n    ctx.scale(scale, scale);\r\n    ctx.fillText(line, 0, 0);\r\n    ctx.restore();\r\n    y += 36;\r\n  }\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawSkipHint(ctx, canvas, text) {\r\n  ctx.save();\r\n  ctx.fillStyle = 'rgba(255,255,255,0.2)';\r\n  roundRect(ctx, canvas.width - 165, canvas.height - 36, 156, 26, 8);\r\n  ctx.fill();\r\n  ctx.fillStyle = '#e5e7eb';\r\n  ctx.font = '12px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  ctx.textAlign = 'right';\r\n  ctx.fillText(text, canvas.width - 12, canvas.height - 18);\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawSky(ctx, canvas, shift) {\r\n  const g = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n  g.addColorStop(0, '#e8f0ff');\r\n  g.addColorStop(1, '#ffffff');\r\n  ctx.fillStyle = g;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  // nubes suaves\r\n  ctx.save();\r\n  ctx.globalAlpha = 0.25;\r\n  ctx.fillStyle = '#ffffff';\r\n  for (let i = 0; i < 6; i++) {\r\n    const x = ((i * 180 - (shift * 0.3) % (canvas.width + 200)) + canvas.width + 200) % (canvas.width + 200) - 100;\r\n    ctx.beginPath();\r\n    ctx.ellipse(x, 60 + (i % 2) * 18, 70, 20, 0, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawCity(ctx, canvas, shift) {\r\n  ctx.save();\r\n  ctx.fillStyle = '#c7d2fe';\r\n  const baseY = 180;\r\n  for (let i = 0; i < 14; i++) {\r\n    const w = 40 + (i % 3) * 10;\r\n    const h = 30 + (i % 5) * 18;\r\n    const x = ((i * 90 - (shift % (canvas.width + 200))) + canvas.width + 200) % (canvas.width + 200) - 100;\r\n    roundRect(ctx, x, baseY - h, w, h, 4);\r\n    ctx.fill();\r\n  }\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawHills(ctx, canvas, shift) {\r\n  ctx.save();\r\n  ctx.fillStyle = '#93c5fd';\r\n  for (let i = 0; i < 4; i++) {\r\n    const x = ((i * 260 - (shift % (canvas.width + 300))) + canvas.width + 300) % (canvas.width + 300) - 150;\r\n    ctx.beginPath();\r\n    ctx.ellipse(x, 220, 180, 36, 0, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawObstacleLow(ctx, x, y, w, h) {\r\n  ctx.save();\r\n  ctx.fillStyle = '#94a3b8';\r\n  ctx.strokeStyle = '#475569';\r\n  ctx.lineWidth = 2;\r\n  roundRect(ctx, x, y, w, h, 6);\r\n  ctx.fill();\r\n  ctx.stroke();\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawObstacleHigh(ctx, x, y, w, h) {\r\n  ctx.save();\r\n  ctx.fillStyle = '#9ca3af';\r\n  roundRect(ctx, x, y + h - 30, 4, 30, 2);\r\n  roundRect(ctx, x + w - 4, y + h - 30, 4, 30, 2);\r\n  ctx.fill();\r\n  ctx.fillStyle = '#22c55e';\r\n  roundRect(ctx, x, y, w, h, 6);\r\n  ctx.fill();\r\n  ctx.restore();\r\n}\r\n\r\n// Sticker conjunto: novio + novia cogidos de la mano\r\nfunction drawCouple(ctx, x, y, w, h, jumping, crouching) {\r\n  ctx.save();\r\n  // Sombra\r\n  if (jumping) {\r\n    ctx.globalAlpha = 0.2;\r\n    ctx.fillStyle = '#000';\r\n    ctx.beginPath();\r\n    ctx.ellipse(x + w * 0.5, y + h + 10, w * 0.7, 5, 0, 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.globalAlpha = 1;\r\n  }\r\n\r\n  // Novia (izquierda)\r\n  const nx = x - 16; const ny = y; const nw = Math.floor(w * 0.48); const nh = h;\r\n  ctx.fillStyle = '#f8fafc';\r\n  roundRect(ctx, nx - 2, ny + nh * 0.35, nw + 4, nh * 0.65, 10); // vestido\r\n  ctx.fill();\r\n  ctx.fillStyle = '#e5e7eb';\r\n  roundRect(ctx, nx, ny, nw, nh * 0.45, 8); // torso\r\n  ctx.fill();\r\n  ctx.fillStyle = '#fde68a';\r\n  ctx.beginPath();\r\n  ctx.arc(nx + nw / 2, crouching ? ny - 4 : ny - 6, 10, 0, Math.PI * 2); // cabeza\r\n  ctx.fill();\r\n  // velo\r\n  ctx.globalAlpha = 0.6; ctx.fillStyle = '#e0f2fe'; roundRect(ctx, nx - 6, ny - 6, nw + 12, 16, 8); ctx.fill(); ctx.globalAlpha = 1;\r\n\r\n  // Novio (derecha)\r\n  const gx = x + nw - 4; const gy = y; const gw = Math.floor(w * 0.52); const gh = h;\r\n  ctx.fillStyle = '#1f2937'; roundRect(ctx, gx, gy, gw, gh, 8); ctx.fill(); // traje\r\n  ctx.fillStyle = '#fde68a'; ctx.beginPath(); ctx.arc(gx + gw / 2, crouching ? gy - 4 : gy - 6, 10, 0, Math.PI * 2); ctx.fill(); // cabeza\r\n  ctx.fillStyle = '#ef4444'; ctx.fillRect(gx + gw / 2 - 3, gy + 10, 6, 10); // corbata\r\n\r\n  // Manos unidas (coraz√≥n peque√±o)\r\n  ctx.fillStyle = '#ef4444';\r\n  ctx.beginPath();\r\n  const mx = gx - 4; const my = y + h * 0.48;\r\n  ctx.arc(mx - 3, my, 3, 0, Math.PI * 2);\r\n  ctx.arc(mx + 3, my, 3, 0, Math.PI * 2);\r\n  ctx.moveTo(mx - 6, my); ctx.lineTo(mx, my + 6); ctx.lineTo(mx + 6, my);\r\n  ctx.fill();\r\n\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawStoryWatermark(ctx, canvas, momentText) {\r\n  ctx.save();\r\n  ctx.globalAlpha = 0.12;\r\n  const gradient = ctx.createRadialGradient(canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width * 0.9);\r\n  gradient.addColorStop(0, '#fbbf24');\r\n  gradient.addColorStop(0.5, '#f59e0b');\r\n  gradient.addColorStop(1, 'transparent');\r\n  ctx.fillStyle = gradient;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  // Texto grande sutil\r\n  ctx.globalAlpha = 0.22;\r\n  ctx.fillStyle = '#92400e';\r\n  ctx.font = 'bold 34px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  ctx.textAlign = 'center';\r\n  ctx.textBaseline = 'middle';\r\n\r\n  const words = momentText.split(' ');\r\n  let lines = []; let currentLine = '';\r\n  for (const word of words) {\r\n    const test = currentLine + (currentLine ? ' ' : '') + word;\r\n    if (ctx.measureText(test).width > canvas.width * 0.7 && currentLine) { lines.push(currentLine); currentLine = word; }\r\n    else currentLine = test;\r\n  }\r\n  if (currentLine) lines.push(currentLine);\r\n\r\n  const lineHeight = 40;\r\n  const startY = canvas.height / 2 - (lines.length - 1) * lineHeight / 2;\r\n  for (let i = 0; i < lines.length; i++) ctx.fillText(lines[i], canvas.width / 2, startY + i * lineHeight);\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawStoryBanner(ctx, canvas, text, alpha) {\r\n  ctx.save();\r\n  ctx.globalAlpha = Math.max(0, Math.min(1, alpha));\r\n  ctx.fillStyle = 'rgba(251, 191, 36, 0.95)';\r\n  const padding = 12;\r\n  ctx.font = 'bold 14px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  const textW = ctx.measureText(text).width;\r\n  const boxW = Math.min(canvas.width - 24, textW + padding * 2 + 40);\r\n  const boxH = 42;\r\n  const boxX = (canvas.width - boxW) / 2;\r\n  const boxY = 6; // elevado\r\n  roundRect(ctx, boxX, boxY, boxW, boxH, 10);\r\n  ctx.fill();\r\n  ctx.strokeStyle = '#d97706'; ctx.lineWidth = 2; ctx.stroke();\r\n  ctx.fillStyle = '#92400e';\r\n  ctx.textAlign = 'center'; ctx.textBaseline = 'middle';\r\n  ctx.fillText('üíï ' + text + ' üíï', canvas.width / 2, boxY + boxH / 2);\r\n  ctx.restore();\r\n}\r\n\r\nfunction drawOverlay(ctx, canvas, title, subtitle) {\r\n  ctx.save();\r\n  ctx.fillStyle = 'rgba(0,0,0,0.45)';\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  ctx.fillStyle = '#fff';\r\n  ctx.font = 'bold 22px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  ctx.textAlign = 'center';\r\n  ctx.fillText(title, canvas.width / 2, canvas.height / 2 - 6);\r\n  ctx.font = '14px Inter, system-ui, -apple-system, Segoe UI, Roboto';\r\n  ctx.fillText(subtitle, canvas.width / 2, canvas.height / 2 + 18);\r\n  ctx.restore();\r\n}\r\n\r\nfunction roundRect(ctx, x, y, w, h, r) {\r\n  ctx.beginPath();\r\n  ctx.moveTo(x + r, y);\r\n  ctx.arcTo(x + w, y, x + w, y + h, r);\r\n  ctx.arcTo(x + w, y + h, x, y + h, r);\r\n  ctx.arcTo(x, y + h, x, y, r);\r\n  ctx.arcTo(x, y, x + w, y, r);\r\n  ctx.closePath();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}