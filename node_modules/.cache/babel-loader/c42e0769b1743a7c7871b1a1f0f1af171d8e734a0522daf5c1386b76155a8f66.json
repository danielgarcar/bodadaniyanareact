{"ast":null,"code":"import React,{useState}from'react';import{supabase}from'../supabaseClient';import'./RSVP.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RSVP=()=>{const[formData,setFormData]=useState({name:'',email:'',phone:'',attendance:'',// 'yes' | 'no'\nguests:1,bringGuest:false,guestName:'',whatsapp:'',message:'',allergies:''});const[touched,setTouched]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[isSubmitted,setIsSubmitted]=useState(false);const[error,setError]=useState('');const handleChange=e=>{const{name,value,type,checked}=e.target;// Actualizar bringGuest desde radios\nif(name==='bringGuest'){setFormData(prev=>({...prev,bringGuest:value==='yes',guests:value==='yes'?2:1}));return;}// Si cambia la asistencia a \"no\", reseteamos el +1\nif(name==='attendance'){setFormData(prev=>({...prev,attendance:value,...(value==='no'?{bringGuest:false,guests:1,guestName:''}:{})}));return;}setFormData(prev=>({...prev,[name]:type==='checkbox'?checked:value}));};const handleBlur=e=>{const{name}=e.target;setTouched(prev=>({...prev,[name]:true}));};const handleSubmit=async e=>{e.preventDefault();setError('');// Validación básica\nif(!formData.name.trim()){setError('El nombre es obligatorio.');return;}if(!formData.email.trim()){setError('El email es obligatorio.');return;}if(!formData.attendance){setError('Selecciona si asistirás.');return;}if(formData.bringGuest&&!formData.guestName.trim()){setError('Por favor, indica el nombre del acompañante.');return;}if(formData.whatsapp&&!formData.phone.trim()){setError('Por favor, indica tu número de teléfono para añadirte al grupo de WhatsApp.');return;}setIsSubmitting(true);try{const payload={name:formData.name.trim(),email:formData.email.trim(),phone:formData.phone.trim(),status:formData.attendance==='yes'?'confirmado':'no',guests_count:formData.bringGuest?2:1,guest_name:formData.bringGuest?formData.guestName.trim():'',whatsapp:!!formData.whatsapp,message:formData.message||'',allergies:formData.allergies||''};// Insert RSVP y obtener el id\nconst{data:rsvpData,error:dbError}=await supabase.from('rsvp').insert([payload]).select('id').single();if(dbError)throw dbError;// Insertar en guestbook\nawait supabase.from('guestbook').insert([{rsvp_id:rsvpData.id,name:formData.name.trim(),guest_name:formData.bringGuest?formData.guestName.trim():'',message:formData.message||''}]);setIsSubmitted(true);setFormData({name:'',email:'',phone:'',attendance:'',guests:1,bringGuest:false,guestName:'',whatsapp:'',message:'',allergies:''});setTouched({});}catch(err){setError('No se pudo guardar tu confirmación. Inténtalo de nuevo.');}finally{setIsSubmitting(false);}};if(isSubmitted){return/*#__PURE__*/_jsx(\"div\",{className:\"rsvp-container\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"rsvp-hero\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\xA1Gracias por tu respuesta! \\uD83D\\uDC8C\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Hemos registrado tu confirmaci\\xF3n. \\xA1Nos vemos muy pronto!\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"rsvp-container\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"rsvp-hero\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Confirmar asistencia\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cu\\xE9ntanos si podr\\xE1s acompa\\xF1arnos en nuestro gran d\\xEDa.\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"rsvp-form-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"rsvp-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Nombre completo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",name:\"name\",type:\"text\",value:formData.name,onChange:handleChange,onBlur:handleBlur,required:true,placeholder:\"Tu nombre completo\",className:touched.name&&!formData.name.trim()?'input-error':''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",value:formData.email,onChange:handleChange,onBlur:handleBlur,required:true,placeholder:\"tucorreo@email.com\",className:touched.email&&!formData.email.trim()?'input-error':''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"tel\",value:formData.phone,onChange:handleChange,onBlur:handleBlur,placeholder:\"Opcional\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\xBFAsistir\\xE1s?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"attendance\",value:\"yes\",checked:formData.attendance==='yes',onChange:handleChange}),\"S\\xED\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"attendance\",value:\"no\",checked:formData.attendance==='no',onChange:handleChange}),\"No\"]})]})]})]}),formData.attendance==='yes'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"TRAES INVITADO\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"bringGuest\",value:\"yes\",checked:formData.bringGuest===true,onChange:handleChange}),\"S\\xED\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"bringGuest\",value:\"no\",checked:formData.bringGuest===false,onChange:handleChange}),\"No\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"allergies\",children:\"Intolerancias alimenticias\"}),/*#__PURE__*/_jsx(\"input\",{id:\"allergies\",name:\"allergies\",type:\"text\",placeholder:\"Ej: gluten, lactosa, frutos secos...\",value:formData.allergies,onChange:handleChange,onBlur:handleBlur})]})]}),formData.bringGuest&&/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"guestName\",children:\"Nombre del acompa\\xF1ante\"}),/*#__PURE__*/_jsx(\"input\",{id:\"guestName\",name:\"guestName\",type:\"text\",value:formData.guestName,onChange:handleChange,onBlur:handleBlur,placeholder:\"Nombre del invitado/a\",className:touched.guestName&&!formData.guestName.trim()?'input-error':''})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\xBFQuieres que te a\\xF1adamos al grupo de WhatsApp?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"whatsapp\",value:true,checked:formData.whatsapp===true||formData.whatsapp==='true',onChange:()=>setFormData(prev=>({...prev,whatsapp:true}))}),\" S\\xED\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"whatsapp\",value:false,checked:formData.whatsapp===false||formData.whatsapp==='false'||formData.whatsapp==='',onChange:()=>setFormData(prev=>({...prev,whatsapp:false}))}),\" No\"]})]})]})}),formData.whatsapp===true&&/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Tel\\xE9fono para WhatsApp\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"tel\",value:formData.phone,onChange:handleChange,onBlur:handleBlur,placeholder:\"Tu n\\xFAmero de WhatsApp\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Mensaje\"}),/*#__PURE__*/_jsx(\"input\",{id:\"message\",name:\"message\",type:\"text\",value:formData.message,onChange:handleChange,onBlur:handleBlur,placeholder:\"\\xBFAlgo que quieras contarnos? (opcional)\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"rsvp-error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-feedback\",children:[touched.name&&!formData.name.trim()&&/*#__PURE__*/_jsx(\"span\",{className:\"input-error-msg\",children:\"El nombre es obligatorio.\"}),touched.email&&!formData.email.trim()&&/*#__PURE__*/_jsx(\"span\",{className:\"input-error-msg\",children:\"El email es obligatorio.\"}),formData.bringGuest&&touched.guestName&&!formData.guestName.trim()&&/*#__PURE__*/_jsx(\"span\",{className:\"input-error-msg\",children:\"El nombre del acompa\\xF1ante es obligatorio.\"}),formData.whatsapp===true&&touched.phone&&!formData.phone.trim()&&/*#__PURE__*/_jsx(\"span\",{className:\"input-error-msg\",children:\"El tel\\xE9fono es obligatorio para WhatsApp.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isSubmitting,children:isSubmitting?'Enviando...':'Enviar confirmación'})]})})})]});};export default RSVP;","map":{"version":3,"names":["React","useState","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RSVP","formData","setFormData","name","email","phone","attendance","guests","bringGuest","guestName","whatsapp","message","allergies","touched","setTouched","isSubmitting","setIsSubmitting","isSubmitted","setIsSubmitted","error","setError","handleChange","e","value","type","checked","target","prev","handleBlur","handleSubmit","preventDefault","trim","payload","status","guests_count","guest_name","data","rsvpData","dbError","from","insert","select","single","rsvp_id","id","err","className","children","onSubmit","htmlFor","onChange","onBlur","required","placeholder","disabled"],"sources":["C:/Users/DanielGarcíaCarabelo/Downloads/pag web boda 2.0/html/webreact/src/components/RSVP.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport './RSVP.css';\r\n\r\nconst RSVP = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    attendance: '', // 'yes' | 'no'\r\n    guests: 1,\r\n    bringGuest: false,\r\n    guestName: '',\r\n    whatsapp: '',\r\n    message: '',\r\n    allergies: ''\r\n  });\r\n  const [touched, setTouched] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n\r\n    // Actualizar bringGuest desde radios\r\n    if (name === 'bringGuest') {\r\n      setFormData((prev) => ({ ...prev, bringGuest: value === 'yes', guests: value === 'yes' ? 2 : 1 }));\r\n      return;\r\n    }\r\n\r\n    // Si cambia la asistencia a \"no\", reseteamos el +1\r\n    if (name === 'attendance') {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        attendance: value,\r\n        ...(value === 'no' ? { bringGuest: false, guests: 1, guestName: '' } : {})\r\n      }));\r\n      return;\r\n    }\r\n\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    const { name } = e.target;\r\n    setTouched((prev) => ({ ...prev, [name]: true }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    // Validación básica\r\n    if (!formData.name.trim()) {\r\n      setError('El nombre es obligatorio.');\r\n      return;\r\n    }\r\n    if (!formData.email.trim()) {\r\n      setError('El email es obligatorio.');\r\n      return;\r\n    }\r\n    if (!formData.attendance) {\r\n      setError('Selecciona si asistirás.');\r\n      return;\r\n    }\r\n    if (formData.bringGuest && !formData.guestName.trim()) {\r\n      setError('Por favor, indica el nombre del acompañante.');\r\n      return;\r\n    }\r\n    if (formData.whatsapp && !formData.phone.trim()) {\r\n      setError('Por favor, indica tu número de teléfono para añadirte al grupo de WhatsApp.');\r\n      return;\r\n    }\r\n    setIsSubmitting(true);\r\n    try {\r\n      const payload = {\r\n        name: formData.name.trim(),\r\n        email: formData.email.trim(),\r\n        phone: formData.phone.trim(),\r\n        status: formData.attendance === 'yes' ? 'confirmado' : 'no',\r\n        guests_count: formData.bringGuest ? 2 : 1,\r\n        guest_name: formData.bringGuest ? formData.guestName.trim() : '',\r\n        whatsapp: !!formData.whatsapp,\r\n        message: formData.message || '',\r\n        allergies: formData.allergies || ''\r\n      };\r\n      // Insert RSVP y obtener el id\r\n      const { data: rsvpData, error: dbError } = await supabase.from('rsvp').insert([payload]).select('id').single();\r\n      if (dbError) throw dbError;\r\n      // Insertar en guestbook\r\n      await supabase.from('guestbook').insert([\r\n        {\r\n          rsvp_id: rsvpData.id,\r\n          name: formData.name.trim(),\r\n          guest_name: formData.bringGuest ? formData.guestName.trim() : '',\r\n          message: formData.message || ''\r\n        }\r\n      ]);\r\n      setIsSubmitted(true);\r\n      setFormData({\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        attendance: '',\r\n        guests: 1,\r\n        bringGuest: false,\r\n        guestName: '',\r\n        whatsapp: '',\r\n        message: '',\r\n        allergies: ''\r\n      });\r\n      setTouched({});\r\n    } catch (err) {\r\n      setError('No se pudo guardar tu confirmación. Inténtalo de nuevo.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (isSubmitted) {\r\n    return (\r\n      <div className=\"rsvp-container\">\r\n        <section className=\"rsvp-hero\">\r\n          <h2>¡Gracias por tu respuesta! 💌</h2>\r\n          <p>Hemos registrado tu confirmación. ¡Nos vemos muy pronto!</p>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rsvp-container\">\r\n      <section className=\"rsvp-hero\">\r\n        <h2>Confirmar asistencia</h2>\r\n        <p>Cuéntanos si podrás acompañarnos en nuestro gran día.</p>\r\n      </section>\r\n\r\n      <section className=\"rsvp-form-section\">\r\n        <div className=\"container\">\r\n          <form onSubmit={handleSubmit} className=\"rsvp-form\">\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Nombre completo</label>\r\n                <input id=\"name\" name=\"name\" type=\"text\" value={formData.name} onChange={handleChange} onBlur={handleBlur} required placeholder=\"Tu nombre completo\" className={touched.name && !formData.name.trim() ? 'input-error' : ''} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input id=\"email\" name=\"email\" type=\"email\" value={formData.email} onChange={handleChange} onBlur={handleBlur} required placeholder=\"tucorreo@email.com\" className={touched.email && !formData.email.trim() ? 'input-error' : ''} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\">Teléfono</label>\r\n                <input id=\"phone\" name=\"phone\" type=\"tel\" value={formData.phone} onChange={handleChange} onBlur={handleBlur} placeholder=\"Opcional\" />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>¿Asistirás?</label>\r\n                <div className=\"radio-group\">\r\n                  <label>\r\n                    <input type=\"radio\" name=\"attendance\" value=\"yes\" checked={formData.attendance === 'yes'} onChange={handleChange} />\r\n                    Sí\r\n                  </label>\r\n                  <label>\r\n                    <input type=\"radio\" name=\"attendance\" value=\"no\" checked={formData.attendance === 'no'} onChange={handleChange} />\r\n                    No\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Mostrar +1 solo si asiste */}\r\n            {formData.attendance === 'yes' && (\r\n              <>\r\n                {/* Traes invitado (+1) */}\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>TRAES INVITADO</label>\r\n                    <div className=\"radio-group\">\r\n                      <label>\r\n                        <input type=\"radio\" name=\"bringGuest\" value=\"yes\" checked={formData.bringGuest === true} onChange={handleChange} />\r\n                        Sí\r\n                      </label>\r\n                      <label>\r\n                        <input type=\"radio\" name=\"bringGuest\" value=\"no\" checked={formData.bringGuest === false} onChange={handleChange} />\r\n                        No\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"allergies\">Intolerancias alimenticias</label>\r\n                    <input id=\"allergies\" name=\"allergies\" type=\"text\" placeholder=\"Ej: gluten, lactosa, frutos secos...\" value={formData.allergies} onChange={handleChange} onBlur={handleBlur} />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Campo dinámico para nombre de invitado */}\r\n                {formData.bringGuest && (\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"guestName\">Nombre del acompañante</label>\r\n                      <input id=\"guestName\" name=\"guestName\" type=\"text\" value={formData.guestName} onChange={handleChange} onBlur={handleBlur} placeholder=\"Nombre del invitado/a\" className={touched.guestName && !formData.guestName.trim() ? 'input-error' : ''} />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {/* Pregunta para grupo de WhatsApp */}\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>¿Quieres que te añadamos al grupo de WhatsApp?</label>\r\n                <div className=\"radio-group\">\r\n                  <label>\r\n                    <input type=\"radio\" name=\"whatsapp\" value={true} checked={formData.whatsapp === true || formData.whatsapp === 'true'} onChange={() => setFormData((prev) => ({ ...prev, whatsapp: true }))} /> Sí\r\n                  </label>\r\n                  <label>\r\n                    <input type=\"radio\" name=\"whatsapp\" value={false} checked={formData.whatsapp === false || formData.whatsapp === 'false' || formData.whatsapp === ''} onChange={() => setFormData((prev) => ({ ...prev, whatsapp: false }))} /> No\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Si quiere WhatsApp, pedir teléfono */}\r\n            {formData.whatsapp === true && (\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"phone\">Teléfono para WhatsApp</label>\r\n                  <input id=\"phone\" name=\"phone\" type=\"tel\" value={formData.phone} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tu número de WhatsApp\" />\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"message\">Mensaje</label>\r\n                <input id=\"message\" name=\"message\" type=\"text\" value={formData.message} onChange={handleChange} onBlur={handleBlur} placeholder=\"¿Algo que quieras contarnos? (opcional)\" />\r\n              </div>\r\n            </div>\r\n\r\n            {error && <div className=\"rsvp-error\">{error}</div>}\r\n            {/* Feedback visual para campos requeridos */}\r\n            <div className=\"form-feedback\">\r\n              {touched.name && !formData.name.trim() && <span className=\"input-error-msg\">El nombre es obligatorio.</span>}\r\n              {touched.email && !formData.email.trim() && <span className=\"input-error-msg\">El email es obligatorio.</span>}\r\n              {formData.bringGuest && touched.guestName && !formData.guestName.trim() && <span className=\"input-error-msg\">El nombre del acompañante es obligatorio.</span>}\r\n              {formData.whatsapp === true && touched.phone && !formData.phone.trim() && <span className=\"input-error-msg\">El teléfono es obligatorio para WhatsApp.</span>}\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>\r\n              {isSubmitting ? 'Enviando...' : 'Enviar confirmación'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RSVP;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}