{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{supabase}from'../supabaseClient';import'./Admin.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PASSWORD='210916.';// Imágenes disponibles en /public/images para la historia\nconst STORY_IMAGE_OPTIONS=['/images/img_story1.jpg','/images/img_story2.jpg','/images/img_story3.jpg','/images/img_story4.jpg','/images/img_story5.jpg'];// Añadir exportación a Excel\nlet XLSX;async function exportToExcel(rows){let filename=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'invitados.xlsx';if(!XLSX)XLSX=await import('xlsx');const ws=XLSX.utils.json_to_sheet(rows);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Datos');XLSX.writeFile(wb,filename);}export default function Admin(){const[auth,setAuth]=useState(false);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[rows,setRows]=useState([]);const[q,setQ]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[sort,setSort]=useState('created_at:desc');const[adminTab,setAdminTab]=useState('list');// list | pairs | seating | story\n// Seating plan state\nconst[tablesCount,setTablesCount]=useState(8);const[seatsPerTable,setSeatsPerTable]=useState(8);const[assignments,setAssignments]=useState({});// key `${t}-${s}` -> guestId\nconst[selectedGuest,setSelectedGuest]=useState(null);// Historia state\nconst[storyRows,setStoryRows]=useState([]);const[storyLoading,setStoryLoading]=useState(false);const[storyMsg,setStoryMsg]=useState('');const load=async()=>{setLoading(true);setError('');try{const{data,error:err}=await supabase.from('rsvp').select('id, created_at, name, email, phone, status, guests_count, guest_name, whatsapp, allergies, message').order(sort.split(':')[0],{ascending:sort.split(':')[1]!=='desc'});if(err)throw err;setRows(data||[]);}catch(e){setError('No se pudo cargar la lista.');}finally{setLoading(false);}};useEffect(()=>{if(auth)load();},[auth,sort]);// Carga diferida de historia al abrir pestaña\nuseEffect(()=>{if(auth&&adminTab==='story')loadStory();},[auth,adminTab]);const filtered=useMemo(()=>{let list=[...rows];if(statusFilter!=='all')list=list.filter(r=>r.status===statusFilter);if(q.trim()){const t=q.toLowerCase();list=list.filter(r=>{var _r$name,_r$email,_r$phone,_r$guest_name;return((_r$name=r.name)===null||_r$name===void 0?void 0:_r$name.toLowerCase().includes(t))||((_r$email=r.email)===null||_r$email===void 0?void 0:_r$email.toLowerCase().includes(t))||((_r$phone=r.phone)===null||_r$phone===void 0?void 0:_r$phone.toLowerCase().includes(t))||((_r$guest_name=r.guest_name)===null||_r$guest_name===void 0?void 0:_r$guest_name.toLowerCase().includes(t));});}return list;},[rows,q,statusFilter]);const updateRow=async(id,patch)=>{const prev=rows;setRows(rows.map(r=>r.id===id?{...r,...patch}:r));try{const{error:err}=await supabase.from('rsvp').update(patch).eq('id',id);if(err)throw err;}catch(e){setRows(prev);alert('No se pudo guardar el cambio');}};const removeRow=async id=>{if(!confirm('¿Eliminar este registro?'))return;const prev=rows;setRows(rows.filter(r=>r.id!==id));try{const{error:err}=await supabase.from('rsvp').delete().eq('id',id);if(err)throw err;}catch(e){setRows(prev);alert('No se pudo eliminar');}};const kpis=useMemo(()=>{const totalReg=rows.length;const confirmados=rows.filter(r=>r.status==='confirmado');const totalConfirmados=confirmados.length;const plusOnes=confirmados.reduce((acc,r)=>acc+(Number(r.guests_count)>1?1:0),0);const totalAsistentes=confirmados.reduce((acc,r)=>acc+(Number(r.guests_count)||1),0);const pct=totalReg?Math.round(totalConfirmados/totalReg*100):0;return{totalReg,totalConfirmados,plusOnes,totalAsistentes,pct};},[rows]);const pairs=useMemo(()=>{return rows.filter(r=>r.status==='confirmado'&&Number(r.guests_count)>1&&(r.guest_name||'').trim()).map(r=>({invitado:r.name,acompanante:r.guest_name,email:r.email,telefono:r.phone,id:r.id}));},[rows]);// Seating: lista de invitados (incluye +1)\nconst guests=useMemo(()=>{const conf=rows.filter(r=>r.status==='confirmado');const list=[];conf.forEach(r=>{list.push({id:`p-${r.id}`,label:r.name});if(Number(r.guests_count)>1&&(r.guest_name||'').trim()){list.push({id:`g-${r.id}`,label:`${r.guest_name} (acompañante)`});}});return list;},[rows]);const unassignedGuests=useMemo(()=>{const assignedIds=new Set(Object.values(assignments));return guests.filter(g=>!assignedIds.has(g.id));},[guests,assignments]);const cleanAssignmentsForConfig=(newTables,newSeats)=>{const next={};Object.entries(assignments).forEach(_ref=>{let[k,v]=_ref;const[t,s]=k.split('-').map(n=>parseInt(n,10));if(t<newTables&&s<newSeats)next[k]=v;});setAssignments(next);};const handleTablesChange=val=>{const v=Math.max(1,Math.min(50,Number(val)||1));setTablesCount(v);cleanAssignmentsForConfig(v,seatsPerTable);};const handleSeatsChange=val=>{const v=Math.max(1,Math.min(20,Number(val)||1));setSeatsPerTable(v);cleanAssignmentsForConfig(tablesCount,v);};const assignSelectedToSeat=(t,s)=>{var _entries$find;if(!selectedGuest)return;// Evitar duplicados: quitar de asiento anterior\nconst entries=Object.entries(assignments);const prevKey=(_entries$find=entries.find(_ref2=>{let[k,id]=_ref2;return id===selectedGuest.id;}))===null||_entries$find===void 0?void 0:_entries$find[0];const next={...assignments};if(prevKey)delete next[prevKey];next[`${t}-${s}`]=selectedGuest.id;setAssignments(next);};const unassignSeat=(t,s)=>{const key=`${t}-${s}`;if(!(key in assignments))return;const next={...assignments};delete next[key];setAssignments(next);};// ===== Historia: CRUD + subida de imágenes =====\nasync function loadStory(){setStoryLoading(true);setStoryMsg('');try{const{data,error:err}=await supabase.from('story_milestones').select('id, year, title, description, image_url, icon, is_published, sort_order').order('sort_order',{ascending:true});if(err)throw err;setStoryRows(data||[]);}catch(e){setStoryMsg('No se pudo cargar la historia.');}finally{setStoryLoading(false);}}function setStoryFieldLocal(id,field,value){setStoryRows(prev=>prev.map(r=>r.id===id?{...r,[field]:value}:r));}async function updateStoryRow(id,patch){const prev=storyRows;setStoryRows(prev.map(r=>r.id===id?{...r,...patch}:r));try{const{error:err}=await supabase.from('story_milestones').update(patch).eq('id',id);if(err)throw err;}catch(e){setStoryRows(prev);alert('No se pudo guardar el hito');}}async function addStoryRow(){var _storyRows;setStoryMsg('');const nextOrder=(((_storyRows=storyRows[storyRows.length-1])===null||_storyRows===void 0?void 0:_storyRows.sort_order)||0)+1;const draft={year:new Date().getFullYear(),title:'Nuevo hito',description:'',image_url:'',icon:'🌟',is_published:false,sort_order:nextOrder};try{const{data,error:err}=await supabase.from('story_milestones').insert([draft]).select('*').single();if(err)throw err;setStoryRows(prev=>[...prev,data]);}catch(e){setStoryMsg('No se pudo crear el hito.');}}async function removeStoryRow(id){if(!confirm('¿Eliminar este hito de la historia?'))return;const prev=storyRows;setStoryRows(prev.filter(r=>r.id!==id));try{const{error:err}=await supabase.from('story_milestones').delete().eq('id',id);if(err)throw err;}catch(e){setStoryRows(prev);alert('No se pudo eliminar el hito');}}async function moveStory(id,dir){var _a$sort_order,_b$sort_order;// dir: -1 arriba, +1 abajo\nconst idx=storyRows.findIndex(r=>r.id===id);if(idx<0)return;const targetIdx=idx+dir;if(targetIdx<0||targetIdx>=storyRows.length)return;const a=storyRows[idx];const b=storyRows[targetIdx];const updated=storyRows.slice();// Intercambiar en UI\n[updated[idx],updated[targetIdx]]=[updated[targetIdx],updated[idx]];// Intercambiar sort_order\nconst aOrder=(_a$sort_order=a.sort_order)!==null&&_a$sort_order!==void 0?_a$sort_order:idx;const bOrder=(_b$sort_order=b.sort_order)!==null&&_b$sort_order!==void 0?_b$sort_order:targetIdx;updated[idx]={...updated[idx],sort_order:aOrder};updated[targetIdx]={...updated[targetIdx],sort_order:bOrder};setStoryRows(updated);try{// Persistir ambos\nconst up1=supabase.from('story_milestones').update({sort_order:aOrder}).eq('id',b.id);const up2=supabase.from('story_milestones').update({sort_order:bOrder}).eq('id',a.id);const[{error:e1},{error:e2}]=await Promise.all([up1,up2]);if(e1||e2)throw e1||e2;}catch(e){alert('No se pudo reordenar. Recarga la página.');loadStory();}}if(!auth){return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-hero\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Panel de Administraci\\xF3n\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card admin-login\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Contrase\\xF1a\",value:input,onChange:e=>setInput(e.target.value),onKeyDown:e=>{if(e.key==='Enter'&&input===PASSWORD)setAuth(true);}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>input===PASSWORD?setAuth(true):setError('Contraseña incorrecta'),children:\"Entrar\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#c0392b',fontWeight:700},children:error})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-hero\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Gesti\\xF3n de Invitados\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-card\",style:{marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(180px,1fr))',gap:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kpi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-label\",children:\"Confirmados\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-value\",children:kpis.totalConfirmados})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-label\",children:\"Asistentes totales\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-value\",children:kpis.totalAsistentes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-label\",children:\"Invitados con +1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-value\",children:kpis.plusOnes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-label\",children:\"% confirmados\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-value\",children:[kpis.pct,\"%\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:`admin-tab ${adminTab==='list'?'active':''}`,onClick:()=>setAdminTab('list'),children:\"Lista\"}),/*#__PURE__*/_jsx(\"button\",{className:`admin-tab ${adminTab==='pairs'?'active':''}`,onClick:()=>setAdminTab('pairs'),children:\"Parejas (+1)\"}),/*#__PURE__*/_jsx(\"button\",{className:`admin-tab ${adminTab==='seating'?'active':''}`,onClick:()=>setAdminTab('seating'),children:\"Seating plan\"}),/*#__PURE__*/_jsx(\"button\",{className:`admin-tab ${adminTab==='story'?'active':''}`,onClick:()=>setAdminTab('story'),children:\"Historia\"})]}),adminTab==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-toolbar\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Buscar por nombre, email, tel\\xE9fono...\",value:q,onChange:e=>setQ(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"confirmado\",children:\"Confirmados\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"No asisten\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sort,onChange:e=>setSort(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"created_at:desc\",children:\"M\\xE1s recientes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"created_at:asc\",children:\"M\\xE1s antiguos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name:asc\",children:\"Nombre A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name:desc\",children:\"Nombre Z-A\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:load,title:\"Recargar\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportToExcel(filtered,'invitados.xlsx'),title:\"Exportar a Excel\",children:\"\\uD83D\\uDCE5 Exportar Excel\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"admin-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acomp.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Invitado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"WhatsApp\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Alergias\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mensaje\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[loading&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:10,children:\"Cargando...\"})}),!loading&&filtered.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:10,children:\"Sin resultados\"})}),filtered.map(row=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.name}),/*#__PURE__*/_jsx(\"td\",{children:row.email}),/*#__PURE__*/_jsx(\"td\",{children:row.phone}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:row.status,onChange:e=>updateRow(row.id,{status:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"confirmado\",children:\"confirmado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"no\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:2,value:row.guests_count||1,onChange:e=>updateRow(row.id,{guests_count:Math.min(2,Math.max(1,Number(e.target.value)||1))}),style:{width:60}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:row.guest_name||'',onChange:e=>updateRow(row.id,{guest_name:e.target.value})})}),/*#__PURE__*/_jsx(\"td\",{children:row.whatsapp?'Sí':'No'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:row.allergies||'',onChange:e=>updateRow(row.id,{allergies:e.target.value})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:row.message||'',onChange:e=>updateRow(row.id,{message:e.target.value})})}),/*#__PURE__*/_jsx(\"td\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeRow(row.id),title:\"Eliminar\",children:\"\\uD83D\\uDDD1\\uFE0F\"})})]},row.id))]})]})})]}),adminTab==='pairs'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-toolbar\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportToExcel(pairs,'parejas.xlsx'),children:\"\\uD83D\\uDCE5 Exportar Parejas\"})}),/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"admin-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Invitado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acompa\\xF1ante\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tel\\xE9fono\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pairs.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:4,children:\"No hay invitados con +1\"})}):pairs.map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:p.invitado}),/*#__PURE__*/_jsx(\"td\",{children:p.acompanante}),/*#__PURE__*/_jsx(\"td\",{children:p.email}),/*#__PURE__*/_jsx(\"td\",{children:p.telefono})]},p.id))})]})})]}),adminTab==='seating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"seating-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mesas\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:50,value:tablesCount,onChange:e=>handleTablesChange(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Asientos por mesa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:20,value:seatsPerTable,onChange:e=>handleSeatsChange(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"guest-pool\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guest-pool-title\",children:[\"Invitados sin asignar (\",unassignedGuests.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"guest-pool-list\",children:unassignedGuests.map(g=>/*#__PURE__*/_jsx(\"button\",{className:`guest-chip ${(selectedGuest===null||selectedGuest===void 0?void 0:selectedGuest.id)===g.id?'selected':''}`,onClick:()=>setSelectedGuest(g),children:g.label},g.id))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"seating-wrapper\",children:Array.from({length:tablesCount}).map((_,t)=>/*#__PURE__*/_jsxs(\"div\",{className:\"table-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-title\",children:[\"Mesa \",t+1]}),/*#__PURE__*/_jsx(\"div\",{className:\"seats-grid\",children:Array.from({length:seatsPerTable}).map((__,s)=>{const key=`${t}-${s}`;const guestId=assignments[key];const guest=guestId?guests.find(g=>g.id===guestId):null;return/*#__PURE__*/_jsxs(\"div\",{className:`seat ${guest?'assigned':''}`,onClick:()=>guest?unassignSeat(t,s):assignSelectedToSeat(t,s),children:[/*#__PURE__*/_jsx(\"div\",{className:\"seat-number\",children:s+1}),/*#__PURE__*/_jsx(\"div\",{className:\"seat-label\",children:guest?guest.label:'Libre'})]},key);})})]},t))})]}),adminTab==='story'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:loadStory,title:\"Recargar\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addStoryRow,title:\"Nuevo hito\",children:\"\\u2795 Nuevo hito\"}),storyMsg&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'auto',color:'#6b7280'},children:storyMsg})]}),storyLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Cargando historia\\u2026\"}):storyRows.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"No hay hitos a\\xFAn. Crea el primero.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'.75rem'},children:storyRows.map((r,idx)=>{var _r$sort_order;return/*#__PURE__*/_jsxs(\"div\",{className:\"story-row\",style:{display:'grid',gridTemplateColumns:'180px 1fr',gap:'.75rem',alignItems:'start',border:'1px solid rgba(0,0,0,.06)',borderRadius:'12px',padding:'.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'.5rem'},children:[/*#__PURE__*/_jsx(\"img\",{src:r.image_url||STORY_IMAGE_OPTIONS[0],alt:\"preview\",style:{width:'180px',height:'130px',objectFit:'cover',borderRadius:'10px',border:'1px solid rgba(0,0,0,.05)'}}),/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'.85rem',fontWeight:700},children:\"Imagen (public/images)\"}),/*#__PURE__*/_jsxs(\"select\",{value:r.image_url||'',onChange:e=>updateStoryRow(r.id,{image_url:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Selecciona imagen --\"}),STORY_IMAGE_OPTIONS.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p,children:p},p))]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"/images/mi_imagen.jpg\",value:r.image_url||'',onChange:e=>setStoryFieldLocal(r.id,'image_url',e.target.value),onBlur:e=>updateStoryRow(r.id,{image_url:e.target.value})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'.35rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveStory(r.id,-1),disabled:idx===0,children:\"\\u2B06\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveStory(r.id,+1),disabled:idx===storyRows.length-1,children:\"\\u2B07\\uFE0F\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'100px 1fr 120px',gap:'.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"A\\xF1o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:r.year||'',onChange:e=>setStoryFieldLocal(r.id,'year',Number(e.target.value)),onBlur:e=>updateStoryRow(r.id,{year:Number(e.target.value)||null})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"input\",{value:r.title||'',onChange:e=>setStoryFieldLocal(r.id,'title',e.target.value),onBlur:e=>updateStoryRow(r.id,{title:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Icono\"}),/*#__PURE__*/_jsx(\"input\",{value:r.icon||'',onChange:e=>setStoryFieldLocal(r.id,'icon',e.target.value),onBlur:e=>updateStoryRow(r.id,{icon:e.target.value})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:3,value:r.description||'',onChange:e=>setStoryFieldLocal(r.id,'description',e.target.value),onBlur:e=>updateStoryRow(r.id,{description:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'.75rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'.35rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!r.is_published,onChange:e=>{setStoryFieldLocal(r.id,'is_published',e.target.checked);updateStoryRow(r.id,{is_published:e.target.checked});}}),\"Publicado\"]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#6b7280'},children:[\"Orden: \",(_r$sort_order=r.sort_order)!==null&&_r$sort_order!==void 0?_r$sort_order:idx]}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'auto'},onClick:()=>removeStoryRow(r.id),children:\"\\uD83D\\uDDD1\\uFE0F Eliminar\"})]})]})]},r.id);})})]})]})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","supabase","jsx","_jsx","jsxs","_jsxs","PASSWORD","STORY_IMAGE_OPTIONS","XLSX","exportToExcel","rows","filename","arguments","length","undefined","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","Admin","auth","setAuth","input","setInput","loading","setLoading","error","setError","setRows","q","setQ","statusFilter","setStatusFilter","sort","setSort","adminTab","setAdminTab","tablesCount","setTablesCount","seatsPerTable","setSeatsPerTable","assignments","setAssignments","selectedGuest","setSelectedGuest","storyRows","setStoryRows","storyLoading","setStoryLoading","storyMsg","setStoryMsg","load","data","err","from","select","order","split","ascending","e","loadStory","filtered","list","filter","r","status","trim","t","toLowerCase","_r$name","_r$email","_r$phone","_r$guest_name","name","includes","email","phone","guest_name","updateRow","id","patch","prev","map","update","eq","alert","removeRow","confirm","delete","kpis","totalReg","confirmados","totalConfirmados","plusOnes","reduce","acc","Number","guests_count","totalAsistentes","pct","Math","round","pairs","invitado","acompanante","telefono","guests","conf","forEach","push","label","unassignedGuests","assignedIds","Set","Object","values","g","has","cleanAssignmentsForConfig","newTables","newSeats","next","entries","_ref","k","v","s","n","parseInt","handleTablesChange","val","max","min","handleSeatsChange","assignSelectedToSeat","_entries$find","prevKey","find","_ref2","unassignSeat","key","setStoryFieldLocal","field","value","updateStoryRow","addStoryRow","_storyRows","nextOrder","sort_order","draft","year","Date","getFullYear","title","description","image_url","icon","is_published","insert","single","removeStoryRow","moveStory","dir","_a$sort_order","_b$sort_order","idx","findIndex","targetIdx","a","b","updated","slice","aOrder","bOrder","up1","up2","e1","e2","Promise","all","className","children","type","placeholder","onChange","target","onKeyDown","onClick","style","color","fontWeight","marginBottom","display","gridTemplateColumns","gap","overflowX","colSpan","row","width","whatsapp","allergies","message","p","Array","_","__","guestId","guest","marginLeft","_r$sort_order","alignItems","border","borderRadius","padding","src","alt","height","objectFit","fontSize","onBlur","disabled","checked"],"sources":["C:/Users/DanielGarcíaCarabelo/Downloads/pag web boda 2.0/html/webreact/src/components/Admin.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport './Admin.css';\r\n\r\nconst PASSWORD = '210916.';\r\n\r\n// Imágenes disponibles en /public/images para la historia\r\nconst STORY_IMAGE_OPTIONS = [\r\n  '/images/img_story1.jpg',\r\n  '/images/img_story2.jpg',\r\n  '/images/img_story3.jpg',\r\n  '/images/img_story4.jpg',\r\n  '/images/img_story5.jpg',\r\n];\r\n\r\n// Añadir exportación a Excel\r\nlet XLSX;\r\nasync function exportToExcel(rows, filename = 'invitados.xlsx') {\r\n  if (!XLSX) XLSX = await import('xlsx');\r\n  const ws = XLSX.utils.json_to_sheet(rows);\r\n  const wb = XLSX.utils.book_new();\r\n  XLSX.utils.book_append_sheet(wb, ws, 'Datos');\r\n  XLSX.writeFile(wb, filename);\r\n}\r\n\r\nexport default function Admin() {\r\n  const [auth, setAuth] = useState(false);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const [rows, setRows] = useState([]);\r\n  const [q, setQ] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [sort, setSort] = useState('created_at:desc');\r\n  const [adminTab, setAdminTab] = useState('list'); // list | pairs | seating | story\r\n\r\n  // Seating plan state\r\n  const [tablesCount, setTablesCount] = useState(8);\r\n  const [seatsPerTable, setSeatsPerTable] = useState(8);\r\n  const [assignments, setAssignments] = useState({}); // key `${t}-${s}` -> guestId\r\n  const [selectedGuest, setSelectedGuest] = useState(null);\r\n\r\n  // Historia state\r\n  const [storyRows, setStoryRows] = useState([]);\r\n  const [storyLoading, setStoryLoading] = useState(false);\r\n  const [storyMsg, setStoryMsg] = useState('');\r\n\r\n  const load = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const { data, error: err } = await supabase\r\n        .from('rsvp')\r\n        .select('id, created_at, name, email, phone, status, guests_count, guest_name, whatsapp, allergies, message')\r\n        .order(sort.split(':')[0], { ascending: sort.split(':')[1] !== 'desc' });\r\n      if (err) throw err;\r\n      setRows(data || []);\r\n    } catch (e) {\r\n      setError('No se pudo cargar la lista.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { if (auth) load(); }, [auth, sort]);\r\n\r\n  // Carga diferida de historia al abrir pestaña\r\n  useEffect(() => { if (auth && adminTab === 'story') loadStory(); }, [auth, adminTab]);\r\n\r\n  const filtered = useMemo(() => {\r\n    let list = [...rows];\r\n    if (statusFilter !== 'all') list = list.filter(r => r.status === statusFilter);\r\n    if (q.trim()) {\r\n      const t = q.toLowerCase();\r\n      list = list.filter(r =>\r\n        r.name?.toLowerCase().includes(t) ||\r\n        r.email?.toLowerCase().includes(t) ||\r\n        r.phone?.toLowerCase().includes(t) ||\r\n        r.guest_name?.toLowerCase().includes(t)\r\n      );\r\n    }\r\n    return list;\r\n  }, [rows, q, statusFilter]);\r\n\r\n  const updateRow = async (id, patch) => {\r\n    const prev = rows;\r\n    setRows(rows.map(r => (r.id === id ? { ...r, ...patch } : r)));\r\n    try {\r\n      const { error: err } = await supabase.from('rsvp').update(patch).eq('id', id);\r\n      if (err) throw err;\r\n    } catch (e) {\r\n      setRows(prev);\r\n      alert('No se pudo guardar el cambio');\r\n    }\r\n  };\r\n\r\n  const removeRow = async (id) => {\r\n    if (!confirm('¿Eliminar este registro?')) return;\r\n    const prev = rows;\r\n    setRows(rows.filter(r => r.id !== id));\r\n    try {\r\n      const { error: err } = await supabase.from('rsvp').delete().eq('id', id);\r\n      if (err) throw err;\r\n    } catch (e) {\r\n      setRows(prev);\r\n      alert('No se pudo eliminar');\r\n    }\r\n  };\r\n\r\n  const kpis = useMemo(() => {\r\n    const totalReg = rows.length;\r\n    const confirmados = rows.filter(r => r.status === 'confirmado');\r\n    const totalConfirmados = confirmados.length;\r\n    const plusOnes = confirmados.reduce((acc, r) => acc + (Number(r.guests_count) > 1 ? 1 : 0), 0);\r\n    const totalAsistentes = confirmados.reduce((acc, r) => acc + (Number(r.guests_count) || 1), 0);\r\n    const pct = totalReg ? Math.round((totalConfirmados / totalReg) * 100) : 0;\r\n    return { totalReg, totalConfirmados, plusOnes, totalAsistentes, pct };\r\n  }, [rows]);\r\n\r\n  const pairs = useMemo(() => {\r\n    return rows\r\n      .filter(r => r.status === 'confirmado' && Number(r.guests_count) > 1 && (r.guest_name || '').trim())\r\n      .map(r => ({\r\n        invitado: r.name,\r\n        acompanante: r.guest_name,\r\n        email: r.email,\r\n        telefono: r.phone,\r\n        id: r.id,\r\n      }));\r\n  }, [rows]);\r\n\r\n  // Seating: lista de invitados (incluye +1)\r\n  const guests = useMemo(() => {\r\n    const conf = rows.filter(r => r.status === 'confirmado');\r\n    const list = [];\r\n    conf.forEach(r => {\r\n      list.push({ id: `p-${r.id}`, label: r.name });\r\n      if (Number(r.guests_count) > 1 && (r.guest_name || '').trim()) {\r\n        list.push({ id: `g-${r.id}`, label: `${r.guest_name} (acompañante)` });\r\n      }\r\n    });\r\n    return list;\r\n  }, [rows]);\r\n\r\n  const unassignedGuests = useMemo(() => {\r\n    const assignedIds = new Set(Object.values(assignments));\r\n    return guests.filter(g => !assignedIds.has(g.id));\r\n  }, [guests, assignments]);\r\n\r\n  const cleanAssignmentsForConfig = (newTables, newSeats) => {\r\n    const next = {};\r\n    Object.entries(assignments).forEach(([k, v]) => {\r\n      const [t, s] = k.split('-').map(n => parseInt(n, 10));\r\n      if (t < newTables && s < newSeats) next[k] = v;\r\n    });\r\n    setAssignments(next);\r\n  };\r\n\r\n  const handleTablesChange = (val) => {\r\n    const v = Math.max(1, Math.min(50, Number(val) || 1));\r\n    setTablesCount(v);\r\n    cleanAssignmentsForConfig(v, seatsPerTable);\r\n  };\r\n\r\n  const handleSeatsChange = (val) => {\r\n    const v = Math.max(1, Math.min(20, Number(val) || 1));\r\n    setSeatsPerTable(v);\r\n    cleanAssignmentsForConfig(tablesCount, v);\r\n  };\r\n\r\n  const assignSelectedToSeat = (t, s) => {\r\n    if (!selectedGuest) return;\r\n    // Evitar duplicados: quitar de asiento anterior\r\n    const entries = Object.entries(assignments);\r\n    const prevKey = entries.find(([k, id]) => id === selectedGuest.id)?.[0];\r\n    const next = { ...assignments };\r\n    if (prevKey) delete next[prevKey];\r\n    next[`${t}-${s}`] = selectedGuest.id;\r\n    setAssignments(next);\r\n  };\r\n\r\n  const unassignSeat = (t, s) => {\r\n    const key = `${t}-${s}`;\r\n    if (!(key in assignments)) return;\r\n    const next = { ...assignments };\r\n    delete next[key];\r\n    setAssignments(next);\r\n  };\r\n\r\n  // ===== Historia: CRUD + subida de imágenes =====\r\n  async function loadStory() {\r\n    setStoryLoading(true);\r\n    setStoryMsg('');\r\n    try {\r\n      const { data, error: err } = await supabase\r\n        .from('story_milestones')\r\n        .select('id, year, title, description, image_url, icon, is_published, sort_order')\r\n        .order('sort_order', { ascending: true });\r\n      if (err) throw err;\r\n      setStoryRows(data || []);\r\n    } catch (e) {\r\n      setStoryMsg('No se pudo cargar la historia.');\r\n    } finally {\r\n      setStoryLoading(false);\r\n    }\r\n  }\r\n\r\n  function setStoryFieldLocal(id, field, value) {\r\n    setStoryRows(prev => prev.map(r => (r.id === id ? { ...r, [field]: value } : r)));\r\n  }\r\n\r\n  async function updateStoryRow(id, patch) {\r\n    const prev = storyRows;\r\n    setStoryRows(prev.map(r => (r.id === id ? { ...r, ...patch } : r)));\r\n    try {\r\n      const { error: err } = await supabase.from('story_milestones').update(patch).eq('id', id);\r\n      if (err) throw err;\r\n    } catch (e) {\r\n      setStoryRows(prev);\r\n      alert('No se pudo guardar el hito');\r\n    }\r\n  }\r\n\r\n  async function addStoryRow() {\r\n    setStoryMsg('');\r\n    const nextOrder = (storyRows[storyRows.length - 1]?.sort_order || 0) + 1;\r\n    const draft = {\r\n      year: new Date().getFullYear(),\r\n      title: 'Nuevo hito',\r\n      description: '',\r\n      image_url: '',\r\n      icon: '🌟',\r\n      is_published: false,\r\n      sort_order: nextOrder,\r\n    };\r\n    try {\r\n      const { data, error: err } = await supabase.from('story_milestones').insert([draft]).select('*').single();\r\n      if (err) throw err;\r\n      setStoryRows(prev => [...prev, data]);\r\n    } catch (e) {\r\n      setStoryMsg('No se pudo crear el hito.');\r\n    }\r\n  }\r\n\r\n  async function removeStoryRow(id) {\r\n    if (!confirm('¿Eliminar este hito de la historia?')) return;\r\n    const prev = storyRows;\r\n    setStoryRows(prev.filter(r => r.id !== id));\r\n    try {\r\n      const { error: err } = await supabase.from('story_milestones').delete().eq('id', id);\r\n      if (err) throw err;\r\n    } catch (e) {\r\n      setStoryRows(prev);\r\n      alert('No se pudo eliminar el hito');\r\n    }\r\n  }\r\n\r\n  async function moveStory(id, dir) {\r\n    // dir: -1 arriba, +1 abajo\r\n    const idx = storyRows.findIndex(r => r.id === id);\r\n    if (idx < 0) return;\r\n    const targetIdx = idx + dir;\r\n    if (targetIdx < 0 || targetIdx >= storyRows.length) return;\r\n    const a = storyRows[idx];\r\n    const b = storyRows[targetIdx];\r\n    const updated = storyRows.slice();\r\n    // Intercambiar en UI\r\n    [updated[idx], updated[targetIdx]] = [updated[targetIdx], updated[idx]];\r\n    // Intercambiar sort_order\r\n    const aOrder = a.sort_order ?? idx;\r\n    const bOrder = b.sort_order ?? targetIdx;\r\n    updated[idx] = { ...updated[idx], sort_order: aOrder };\r\n    updated[targetIdx] = { ...updated[targetIdx], sort_order: bOrder };\r\n    setStoryRows(updated);\r\n    try {\r\n      // Persistir ambos\r\n      const up1 = supabase.from('story_milestones').update({ sort_order: aOrder }).eq('id', b.id);\r\n      const up2 = supabase.from('story_milestones').update({ sort_order: bOrder }).eq('id', a.id);\r\n      const [{ error: e1 }, { error: e2 }] = await Promise.all([up1, up2]);\r\n      if (e1 || e2) throw e1 || e2;\r\n    } catch (e) {\r\n      alert('No se pudo reordenar. Recarga la página.');\r\n      loadStory();\r\n    }\r\n  }\r\n\r\n  if (!auth) {\r\n    return (\r\n      <div className=\"admin-page\">\r\n        <div className=\"admin-hero\"><h2>Panel de Administración</h2></div>\r\n        <div className=\"container\">\r\n          <div className=\"admin-card admin-login\">\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Contraseña\"\r\n              value={input}\r\n              onChange={(e)=>setInput(e.target.value)}\r\n              onKeyDown={(e)=>{ if (e.key === 'Enter' && input === PASSWORD) setAuth(true); }}\r\n            />\r\n            <button onClick={()=> input === PASSWORD ? setAuth(true) : setError('Contraseña incorrecta')}>Entrar</button>\r\n            {error && <div style={{color:'#c0392b', fontWeight:700}}>{error}</div>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-page\">\r\n      <div className=\"admin-hero\"><h2>Gestión de Invitados</h2></div>\r\n      <div className=\"container\">\r\n        <div className=\"admin-card\" style={{marginBottom:'1rem'}}>\r\n          <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(180px,1fr))', gap:'0.75rem'}}>\r\n            <div className=\"kpi\">\r\n              <div className=\"kpi-label\">Confirmados</div>\r\n              <div className=\"kpi-value\">{kpis.totalConfirmados}</div>\r\n            </div>\r\n            <div className=\"kpi\">\r\n              <div className=\"kpi-label\">Asistentes totales</div>\r\n              <div className=\"kpi-value\">{kpis.totalAsistentes}</div>\r\n            </div>\r\n            <div className=\"kpi\">\r\n              <div className=\"kpi-label\">Invitados con +1</div>\r\n              <div className=\"kpi-value\">{kpis.plusOnes}</div>\r\n            </div>\r\n            <div className=\"kpi\">\r\n              <div className=\"kpi-label\">% confirmados</div>\r\n              <div className=\"kpi-value\">{kpis.pct}%</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pestañas */}\r\n        <div className=\"admin-tabs\">\r\n          <button className={`admin-tab ${adminTab==='list' ? 'active' : ''}`} onClick={()=>setAdminTab('list')}>Lista</button>\r\n          <button className={`admin-tab ${adminTab==='pairs' ? 'active' : ''}`} onClick={()=>setAdminTab('pairs')}>Parejas (+1)</button>\r\n          <button className={`admin-tab ${adminTab==='seating' ? 'active' : ''}`} onClick={()=>setAdminTab('seating')}>Seating plan</button>\r\n          <button className={`admin-tab ${adminTab==='story' ? 'active' : ''}`} onClick={()=>setAdminTab('story')}>Historia</button>\r\n        </div>\r\n\r\n        {adminTab === 'list' && (\r\n          <div className=\"admin-card\">\r\n            <div className=\"admin-toolbar\">\r\n              <input placeholder=\"Buscar por nombre, email, teléfono...\" value={q} onChange={(e)=>setQ(e.target.value)} />\r\n              <select value={statusFilter} onChange={(e)=>setStatusFilter(e.target.value)}>\r\n                <option value=\"all\">Todos</option>\r\n                <option value=\"confirmado\">Confirmados</option>\r\n                <option value=\"no\">No asisten</option>\r\n              </select>\r\n              <select value={sort} onChange={(e)=>setSort(e.target.value)}>\r\n                <option value=\"created_at:desc\">Más recientes</option>\r\n                <option value=\"created_at:asc\">Más antiguos</option>\r\n                <option value=\"name:asc\">Nombre A-Z</option>\r\n                <option value=\"name:desc\">Nombre Z-A</option>\r\n              </select>\r\n              <button onClick={load} title=\"Recargar\">🔄</button>\r\n              <button onClick={()=>exportToExcel(filtered, 'invitados.xlsx')} title=\"Exportar a Excel\">📥 Exportar Excel</button>\r\n            </div>\r\n\r\n            <div style={{overflowX:'auto'}}>\r\n              <table className=\"admin-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Nombre</th>\r\n                    <th>Email</th>\r\n                    <th>Teléfono</th>\r\n                    <th>Estado</th>\r\n                    <th>Acomp.</th>\r\n                    <th>Invitado</th>\r\n                    <th>WhatsApp</th>\r\n                    <th>Alergias</th>\r\n                    <th>Mensaje</th>\r\n                    <th></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {loading && (\r\n                    <tr><td colSpan={10}>Cargando...</td></tr>\r\n                  )}\r\n                  {!loading && filtered.length === 0 && (\r\n                    <tr><td colSpan={10}>Sin resultados</td></tr>\r\n                  )}\r\n                  {filtered.map(row => (\r\n                    <tr key={row.id}>\r\n                      <td>{row.name}</td>\r\n                      <td>{row.email}</td>\r\n                      <td>{row.phone}</td>\r\n                      <td>\r\n                        <select\r\n                          value={row.status}\r\n                          onChange={(e)=>updateRow(row.id, { status: e.target.value })}\r\n                        >\r\n                          <option value=\"confirmado\">confirmado</option>\r\n                          <option value=\"no\">no</option>\r\n                        </select>\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"number\"\r\n                          min={1}\r\n                          max={2}\r\n                          value={row.guests_count || 1}\r\n                          onChange={(e)=>updateRow(row.id, { guests_count: Math.min(2, Math.max(1, Number(e.target.value)||1)) })}\r\n                          style={{width:60}}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          value={row.guest_name || ''}\r\n                          onChange={(e)=>updateRow(row.id, { guest_name: e.target.value })}\r\n                        />\r\n                      </td>\r\n                      <td>{row.whatsapp ? 'Sí' : 'No'}</td>\r\n                      <td>\r\n                        <input\r\n                          value={row.allergies || ''}\r\n                          onChange={(e)=>updateRow(row.id, { allergies: e.target.value })}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          value={row.message || ''}\r\n                          onChange={(e)=>updateRow(row.id, { message: e.target.value })}\r\n                        />\r\n                      </td>\r\n                      <td className=\"actions\">\r\n                        <button onClick={()=>removeRow(row.id)} title=\"Eliminar\">🗑️</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {adminTab === 'pairs' && (\r\n          <div className=\"admin-card\">\r\n            <div className=\"admin-toolbar\">\r\n              <button onClick={()=>exportToExcel(pairs, 'parejas.xlsx')}>📥 Exportar Parejas</button>\r\n            </div>\r\n            <div style={{overflowX:'auto'}}>\r\n              <table className=\"admin-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Invitado</th>\r\n                    <th>Acompañante</th>\r\n                    <th>Email</th>\r\n                    <th>Teléfono</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {pairs.length === 0 ? (\r\n                    <tr><td colSpan={4}>No hay invitados con +1</td></tr>\r\n                  ) : (\r\n                    pairs.map(p => (\r\n                      <tr key={p.id}>\r\n                        <td>{p.invitado}</td>\r\n                        <td>{p.acompanante}</td>\r\n                        <td>{p.email}</td>\r\n                        <td>{p.telefono}</td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {adminTab === 'seating' && (\r\n          <div className=\"admin-card\">\r\n            <div className=\"seating-controls\">\r\n              <div>\r\n                <label>Mesas</label>\r\n                <input type=\"number\" min={1} max={50} value={tablesCount} onChange={(e)=>handleTablesChange(e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label>Asientos por mesa</label>\r\n                <input type=\"number\" min={1} max={20} value={seatsPerTable} onChange={(e)=>handleSeatsChange(e.target.value)} />\r\n              </div>\r\n              <div className=\"guest-pool\">\r\n                <div className=\"guest-pool-title\">Invitados sin asignar ({unassignedGuests.length})</div>\r\n                <div className=\"guest-pool-list\">\r\n                  {unassignedGuests.map(g => (\r\n                    <button\r\n                      key={g.id}\r\n                      className={`guest-chip ${selectedGuest?.id===g.id ? 'selected' : ''}`}\r\n                      onClick={()=>setSelectedGuest(g)}\r\n                    >{g.label}</button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"seating-wrapper\">\r\n              {Array.from({ length: tablesCount }).map((_, t) => (\r\n                <div key={t} className=\"table-card\">\r\n                  <div className=\"table-title\">Mesa {t+1}</div>\r\n                  <div className=\"seats-grid\">\r\n                    {Array.from({ length: seatsPerTable }).map((__, s) => {\r\n                      const key = `${t}-${s}`;\r\n                      const guestId = assignments[key];\r\n                      const guest = guestId ? guests.find(g => g.id === guestId) : null;\r\n                      return (\r\n                        <div key={key} className={`seat ${guest ? 'assigned' : ''}`} onClick={()=> guest ? unassignSeat(t,s) : assignSelectedToSeat(t,s)}>\r\n                          <div className=\"seat-number\">{s+1}</div>\r\n                          <div className=\"seat-label\">{guest ? guest.label : 'Libre'}</div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {adminTab === 'story' && (\r\n          <div className=\"admin-card\">\r\n            <div className=\"admin-toolbar\">\r\n              <button onClick={loadStory} title=\"Recargar\">🔄</button>\r\n              <button onClick={addStoryRow} title=\"Nuevo hito\">➕ Nuevo hito</button>\r\n              {storyMsg && <span style={{ marginLeft: 'auto', color: '#6b7280' }}>{storyMsg}</span>}\r\n            </div>\r\n\r\n            {storyLoading ? (\r\n              <div>Cargando historia…</div>\r\n            ) : storyRows.length === 0 ? (\r\n              <div>No hay hitos aún. Crea el primero.</div>\r\n            ) : (\r\n              <div style={{ display: 'grid', gap: '.75rem' }}>\r\n                {storyRows.map((r, idx) => (\r\n                  <div\r\n                    key={r.id}\r\n                    className=\"story-row\"\r\n                    style={{\r\n                      display: 'grid',\r\n                      gridTemplateColumns: '180px 1fr',\r\n                      gap: '.75rem',\r\n                      alignItems: 'start',\r\n                      border: '1px solid rgba(0,0,0,.06)',\r\n                      borderRadius: '12px',\r\n                      padding: '.75rem',\r\n                    }}\r\n                  >\r\n                    <div style={{ display: 'grid', gap: '.5rem' }}>\r\n                      <img\r\n                        src={r.image_url || STORY_IMAGE_OPTIONS[0]}\r\n                        alt=\"preview\"\r\n                        style={{\r\n                          width: '180px',\r\n                          height: '130px',\r\n                          objectFit: 'cover',\r\n                          borderRadius: '10px',\r\n                          border: '1px solid rgba(0,0,0,.05)',\r\n                        }}\r\n                      />\r\n                      <label style={{ fontSize: '.85rem', fontWeight: 700 }}>Imagen (public/images)</label>\r\n                      <select\r\n                        value={r.image_url || ''}\r\n                        onChange={(e) => updateStoryRow(r.id, { image_url: e.target.value })}\r\n                      >\r\n                        <option value=\"\">-- Selecciona imagen --</option>\r\n                        {STORY_IMAGE_OPTIONS.map((p) => (\r\n                          <option key={p} value={p}>\r\n                            {p}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      <input\r\n                        placeholder=\"/images/mi_imagen.jpg\"\r\n                        value={r.image_url || ''}\r\n                        onChange={(e) => setStoryFieldLocal(r.id, 'image_url', e.target.value)}\r\n                        onBlur={(e) => updateStoryRow(r.id, { image_url: e.target.value })}\r\n                      />\r\n                      <div style={{ display: 'flex', gap: '.35rem' }}>\r\n                        <button onClick={() => moveStory(r.id, -1)} disabled={idx === 0}>\r\n                          ⬆️\r\n                        </button>\r\n                        <button onClick={() => moveStory(r.id, +1)} disabled={idx === storyRows.length - 1}>\r\n                          ⬇️\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'grid', gap: '.5rem' }}>\r\n                      <div style={{ display: 'grid', gridTemplateColumns: '100px 1fr 120px', gap: '.5rem' }}>\r\n                        <div>\r\n                          <label>Año</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={r.year || ''}\r\n                            onChange={(e) => setStoryFieldLocal(r.id, 'year', Number(e.target.value))}\r\n                            onBlur={(e) => updateStoryRow(r.id, { year: Number(e.target.value) || null })}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label>Título</label>\r\n                          <input\r\n                            value={r.title || ''}\r\n                            onChange={(e) => setStoryFieldLocal(r.id, 'title', e.target.value)}\r\n                            onBlur={(e) => updateStoryRow(r.id, { title: e.target.value })}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label>Icono</label>\r\n                          <input\r\n                            value={r.icon || ''}\r\n                            onChange={(e) => setStoryFieldLocal(r.id, 'icon', e.target.value)}\r\n                            onBlur={(e) => updateStoryRow(r.id, { icon: e.target.value })}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <label>Descripción</label>\r\n                        <textarea\r\n                          rows={3}\r\n                          value={r.description || ''}\r\n                          onChange={(e) => setStoryFieldLocal(r.id, 'description', e.target.value)}\r\n                          onBlur={(e) => updateStoryRow(r.id, { description: e.target.value })}\r\n                        />\r\n                      </div>\r\n                      <div style={{ display: 'flex', gap: '.75rem', alignItems: 'center' }}>\r\n                        <label style={{ display: 'flex', alignItems: 'center', gap: '.35rem' }}>\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={!!r.is_published}\r\n                            onChange={(e) => {\r\n                              setStoryFieldLocal(r.id, 'is_published', e.target.checked);\r\n                              updateStoryRow(r.id, { is_published: e.target.checked });\r\n                            }}\r\n                          />\r\n                          Publicado\r\n                        </label>\r\n                        <span style={{ color: '#6b7280' }}>Orden: {r.sort_order ?? idx}</span>\r\n                        <button style={{ marginLeft: 'auto' }} onClick={() => removeStoryRow(r.id)}>\r\n                          🗑️ Eliminar\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}