{"ast":null,"code":"import React,{useState}from'react';import{supabase}from'../supabaseClient';import'./GuestList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ACCESS_PASSWORD='dana210916';const GuestList=()=>{const[input,setInput]=useState('');const[access,setAccess]=useState(false);const[guests,setGuests]=useState([]);const[error,setError]=useState('');const handleAccess=async e=>{e.preventDefault();if(input===ACCESS_PASSWORD){setAccess(true);setError('');// Obtener lista de confirmados\nconst{data}=await supabase.from('rsvp').select('*, users(users)').eq('status','confirmado');setGuests(data||[]);}else{setError('Contraseña incorrecta');}};if(!access){return/*#__PURE__*/_jsxs(\"div\",{className:\"guestlist-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Acceso a la Lista de Invitados\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAccess,className:\"guestlist-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Contrase\\xF1a de acceso\",value:input,onChange:e=>setInput(e.target.value),className:\"guestlist-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"guestlist-btn\",children:\"Entrar\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"guestlist-error\",children:error})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"guestlist-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Invitados que han confirmado asistencia\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"guestlist-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acompa\\xF1antes\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mensaje\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[guests.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",children:\"No hay confirmaciones a\\xFAn.\"})}),guests.map((g,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:g.users?g.users.users:'Invitado'}),/*#__PURE__*/_jsx(\"td\",{children:g.guests_count>1?g.guests_count-1:0}),/*#__PURE__*/_jsx(\"td\",{children:g.message||'-'}),/*#__PURE__*/_jsx(\"td\",{children:g.created_at?new Date(g.created_at).toLocaleString():'-'})]},i))]})]})]});};export default GuestList;","map":{"version":3,"names":["React","useState","supabase","jsx","_jsx","jsxs","_jsxs","ACCESS_PASSWORD","GuestList","input","setInput","access","setAccess","guests","setGuests","error","setError","handleAccess","e","preventDefault","data","from","select","eq","className","children","onSubmit","type","placeholder","value","onChange","target","length","colSpan","map","g","i","users","guests_count","message","created_at","Date","toLocaleString"],"sources":["C:/Users/DanielGarcíaCarabelo/Downloads/pag web boda 2.0/html/webreact/src/components/GuestList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport './GuestList.css';\r\n\r\nconst ACCESS_PASSWORD = 'dana210916';\r\n\r\nconst GuestList = () => {\r\n  const [input, setInput] = useState('');\r\n  const [access, setAccess] = useState(false);\r\n  const [guests, setGuests] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleAccess = async (e) => {\r\n    e.preventDefault();\r\n    if (input === ACCESS_PASSWORD) {\r\n      setAccess(true);\r\n      setError('');\r\n      // Obtener lista de confirmados\r\n      const { data } = await supabase\r\n        .from('rsvp')\r\n        .select('*, users(users)')\r\n        .eq('status', 'confirmado');\r\n      setGuests(data || []);\r\n    } else {\r\n      setError('Contraseña incorrecta');\r\n    }\r\n  };\r\n\r\n  if (!access) {\r\n    return (\r\n      <div className=\"guestlist-container\">\r\n        <h2>Acceso a la Lista de Invitados</h2>\r\n        <form onSubmit={handleAccess} className=\"guestlist-form\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Contraseña de acceso\"\r\n            value={input}\r\n            onChange={e => setInput(e.target.value)}\r\n            className=\"guestlist-input\"\r\n          />\r\n          <button type=\"submit\" className=\"guestlist-btn\">Entrar</button>\r\n        </form>\r\n        {error && <div className=\"guestlist-error\">{error}</div>}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"guestlist-container\">\r\n      <h2>Invitados que han confirmado asistencia</h2>\r\n      <table className=\"guestlist-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Nombre</th>\r\n            <th>Acompañantes</th>\r\n            <th>Mensaje</th>\r\n            <th>Fecha</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {guests.length === 0 && (\r\n            <tr><td colSpan=\"4\">No hay confirmaciones aún.</td></tr>\r\n          )}\r\n          {guests.map((g, i) => (\r\n            <tr key={i}>\r\n              <td>{g.users ? g.users.users : 'Invitado'}</td>\r\n              <td>{g.guests_count > 1 ? g.guests_count - 1 : 0}</td>\r\n              <td>{g.message || '-'}</td>\r\n              <td>{g.created_at ? new Date(g.created_at).toLocaleString() : '-'}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GuestList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}