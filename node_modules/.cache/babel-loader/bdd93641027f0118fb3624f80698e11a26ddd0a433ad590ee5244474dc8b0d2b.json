{"ast":null,"code":"// import GuestList from './components/GuestList';\nimport GuestList from'./components/GuestList';import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';// Componentes\nimport Login from'./components/Login';import MainLayout from'./components/MainLayout';import Home from'./components/HomeComponent';import Story from'./components/Story';import EventDetails from'./components/EventDetails';import Gallery from'./components/Gallery';import Accommodation from'./components/Accommodation';import RSVP from'./components/RSVP';import Trivial from'./components/Trivial';import FAQ from'./components/FAQ';import Contact from'./components/Contact';// Estilos adicionales para la app\nimport'./styles/App.css';// Usuarios válidos\nimport{supabase}from'./supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[isLoading,setIsLoading]=useState(true);// Verificar autenticación al cargar\nuseEffect(()=>{const checkAuth=()=>{const storedAuth=localStorage.getItem('wedding-auth');if(storedAuth==='authenticated'){setIsAuthenticated(true);}setIsLoading(false);};// Simular tiempo de carga\nsetTimeout(checkAuth,1000);},[]);const handleLogin=async(username,password)=>{// Normalizar valores para evitar errores de espacios o mayúsculas\nconst cleanUser=username.trim().toLowerCase();const cleanPass=password.trim();const{data,error}=await supabase.from('users').select('*').ilike('users',cleanUser).eq('password',cleanPass);console.log('LOGIN DEBUG:',{cleanUser,cleanPass,data,error});if(data&&data.length>0){setIsAuthenticated(true);localStorage.setItem('wedding-auth','authenticated');return{success:true};}return{success:false,message:'Credenciales incorrectas'};};const handleLogout=()=>{setIsAuthenticated(false);localStorage.removeItem('wedding-auth');};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC92 Dani & Ana\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"})]})});}if(!isAuthenticated){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(MainLayout,{onLogout:handleLogout,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/story\",element:/*#__PURE__*/_jsx(Story,{})}),/*#__PURE__*/_jsx(Route,{path:\"/details\",element:/*#__PURE__*/_jsx(EventDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/gallery\",element:/*#__PURE__*/_jsx(Gallery,{})}),/*#__PURE__*/_jsx(Route,{path:\"/accommodation\",element:/*#__PURE__*/_jsx(Accommodation,{})}),/*#__PURE__*/_jsx(Route,{path:\"/rsvp\",element:/*#__PURE__*/_jsx(RSVP,{})}),/*#__PURE__*/_jsx(Route,{path:\"/faq\",element:/*#__PURE__*/_jsx(FAQ,{})}),/*#__PURE__*/_jsx(Route,{path:\"/trivial\",element:/*#__PURE__*/_jsx(Trivial,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["GuestList","React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","MainLayout","Home","Story","EventDetails","Gallery","Accommodation","RSVP","Trivial","FAQ","Contact","supabase","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","isLoading","setIsLoading","checkAuth","storedAuth","localStorage","getItem","setTimeout","handleLogin","username","password","cleanUser","trim","toLowerCase","cleanPass","data","error","from","select","ilike","eq","console","log","length","setItem","success","message","handleLogout","removeItem","className","children","onLogin","onLogout","path","element","to","replace"],"sources":["C:/Users/DanielGarcíaCarabelo/Downloads/pag web boda 2.0/html/webreact/src/App.js"],"sourcesContent":["// import GuestList from './components/GuestList';\r\nimport GuestList from './components/GuestList';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\n\r\n// Componentes\r\nimport Login from './components/Login';\r\nimport MainLayout from './components/MainLayout';\r\nimport Home from './components/HomeComponent';\r\nimport Story from './components/Story';\r\nimport EventDetails from './components/EventDetails';\r\nimport Gallery from './components/Gallery';\r\nimport Accommodation from './components/Accommodation';\r\nimport RSVP from './components/RSVP';\r\nimport Trivial from './components/Trivial';\r\nimport FAQ from './components/FAQ';\r\nimport Contact from './components/Contact';\r\n\r\n// Estilos adicionales para la app\r\nimport './styles/App.css';\r\n\r\n// Usuarios válidos\r\nimport { supabase } from './supabaseClient';\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Verificar autenticación al cargar\r\n  useEffect(() => {\r\n    const checkAuth = () => {\r\n      const storedAuth = localStorage.getItem('wedding-auth');\r\n      if (storedAuth === 'authenticated') {\r\n        setIsAuthenticated(true);\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    // Simular tiempo de carga\r\n    setTimeout(checkAuth, 1000);\r\n  }, []);\r\n\r\n  const handleLogin = async (username, password) => {\r\n    // Normalizar valores para evitar errores de espacios o mayúsculas\r\n    const cleanUser = username.trim().toLowerCase();\r\n    const cleanPass = password.trim();\r\n    const { data, error } = await supabase\r\n      .from('users')\r\n      .select('*')\r\n      .ilike('users', cleanUser)\r\n      .eq('password', cleanPass);\r\n    console.log('LOGIN DEBUG:', { cleanUser, cleanPass, data, error });\r\n    if (data && data.length > 0) {\r\n      setIsAuthenticated(true);\r\n      localStorage.setItem('wedding-auth', 'authenticated');\r\n      return { success: true };\r\n    }\r\n    return { success: false, message: 'Credenciales incorrectas' };\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setIsAuthenticated(false);\r\n    localStorage.removeItem('wedding-auth');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"loading-screen\">\r\n        <div className=\"loading-content\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <h2>💒 Dani & Ana</h2>\r\n          <p>Cargando...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return <Login onLogin={handleLogin} />;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <MainLayout onLogout={handleLogout}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route path=\"/home\" element={<Home />} />\r\n          <Route path=\"/story\" element={<Story />} />\r\n          <Route path=\"/details\" element={<EventDetails />} />\r\n          <Route path=\"/gallery\" element={<Gallery />} />\r\n          <Route path=\"/accommodation\" element={<Accommodation />} />\r\n          <Route path=\"/rsvp\" element={<RSVP />} />\r\n          {/* <Route path=\"/guestlist\" element={<GuestList />} /> */}\r\n          <Route path=\"/faq\" element={<FAQ />} />\r\n          <Route path=\"/trivial\" element={<Trivial />} />\r\n          <Route path=\"/contact\" element={<Contact />} />\r\n          <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n        </Routes>\r\n      </MainLayout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}